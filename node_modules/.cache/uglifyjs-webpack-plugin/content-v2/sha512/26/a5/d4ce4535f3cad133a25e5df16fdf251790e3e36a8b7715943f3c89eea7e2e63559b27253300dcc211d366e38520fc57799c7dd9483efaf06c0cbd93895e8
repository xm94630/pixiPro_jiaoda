{"code":"!function(t){var e={};function i(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=39)}([function(t,e,i){\"use strict\";t.exports={gl:null,primitiveShader:null,stripShader:null,defaultShader:null,offset:null,projection:null,texturesToUpdate:[],texturesToDestroy:[],visibleCount:0}},function(t,e,i){\"use strict\";t.exports=function(t,e){this.passes=[this],this.dirty=!0,this.padding=0,this.uniforms=e||{},this.fragmentSrc=t||[]}},function(t,e,i){(function(e){!function(e){\"use strict\";t.exports={global:e,console:e.console,document:e.document,location:e.location,navigator:e.navigator,window:e.window,createCanvas:function(){return e.document.createElement(\"canvas\")},createImage:function(){return new e.Image},createRequest:function(){return new e.XMLHttpRequest}}}(void 0!==e?e:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})}).call(this,i(41))},function(t,e,i){\"use strict\";function r(t,e){this.x=t||0,this.y=e||0}r.prototype.clone=function(){return new r(this.x,this.y)},t.exports=r},function(t,e,i){\"use strict\";function r(t,e){if(a.call(this),e||(this.noFrame=!0,e=new o(0,0,1,1)),t instanceof r&&(t=t.baseTexture),this.baseTexture=t,this.frame=e,this.trim=new n,this.scope=this,t.hasLoaded)this.noFrame&&(e=new o(0,0,t.width,t.height)),this.setFrame(e);else{var i=this;t.addEventListener(\"loaded\",function(){i.onBaseTextureLoaded()})}}var s=i(12),n=i(3),o=i(8),a=i(5),h=r.prototype;h.onBaseTextureLoaded=function(){var t=this.baseTexture;t.removeEventListener(\"loaded\",this.onLoaded),this.noFrame&&(this.frame=new o(0,0,t.width,t.height)),this.noFrame=!1,this.width=this.frame.width,this.height=this.frame.height,this.scope.dispatchEvent({type:\"update\",content:this})},h.destroy=function(t){t&&this.baseTexture.destroy()},h.setFrame=function(t){if(this.frame=t,this.width=t.width,this.height=t.height,t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)throw new Error(\"Texture Error: frame does not fit inside the base Texture dimensions \"+this);this.updateFrame=!0,r.frameUpdates.push(this)},r.fromImage=function(t,e,i){var n=r.cache[t];return n||(n=new r(s.fromImage(t,e,i)),r.cache[t]=n),n},r.fromFrame=function(t){var e=r.cache[t];if(!e)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache '+this);return e},r.fromCanvas=function(t,e){return new r(new s(t,e))},r.addTextureToCache=function(t,e){r.cache[e]=t},r.removeTextureFromCache=function(t){var e=r.cache[t];return r.cache[t]=null,e},r.cache={},r.frameUpdates=[],r.SCALE_MODE=s.SCALE_MODE,t.exports=r},function(t,e,i){\"use strict\";t.exports=function(){var t={};this.addEventListener=this.on=function(e,i){void 0===t[e]&&(t[e]=[]),-1===t[e].indexOf(i)&&t[e].push(i)},this.dispatchEvent=this.emit=function(e){if(t[e.type]&&t[e.type].length)for(var i=0,r=t[e.type].length;r>i;i++)t[e.type][i](e)},this.removeEventListener=this.off=function(e,i){var r=t[e].indexOf(i);-1!==r&&t[e].splice(r,1)},this.removeAllEventListeners=function(e){var i=t[e];i&&(i.length=0)}}},function(t,e,i){\"use strict\";function r(){s.call(this),this.children=[]}var s=i(19),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});n.addChild=function(t){if(t.parent&&t.parent!==this&&t.parent.removeChild(t),t.parent=this,this.children.push(t),this.stage){var e=t;do{e.interactive&&(this.stage.dirty=!0),e.stage=this.stage,e=e._iNext}while(e)}var i,r,s=t.first,n=t.last;i=(r=this._filters||this._mask?this.last._iPrev:this.last)._iNext;for(var o=this,a=r;o;)o.last===a&&(o.last=t.last),o=o.parent;i&&(i._iPrev=n,n._iNext=i),s._iPrev=r,r._iNext=s,this.__renderGroup&&(t.__renderGroup&&t.__renderGroup.removeDisplayObjectAndChildren(t),this.__renderGroup.addDisplayObjectAndChildren(t))},n.addChildAt=function(t,e){if(!(e>=0&&e<=this.children.length))throw new Error(t+\" The index \"+e+\" supplied is out of bounds \"+this.children.length);if(void 0!==t.parent&&t.parent.removeChild(t),t.parent=this,this.stage){var i=t;do{i.interactive&&(this.stage.dirty=!0),i.stage=this.stage,i=i._iNext}while(i)}var r,s,n=t.first,o=t.last;if(e===this.children.length){s=this.last;for(var a=this,h=this.last;a;)a.last===h&&(a.last=t.last),a=a.parent}else s=0===e?this:this.children[e-1].last;(r=s._iNext)&&(r._iPrev=o,o._iNext=r),n._iPrev=s,s._iNext=n,this.children.splice(e,0,t),this.__renderGroup&&(t.__renderGroup&&t.__renderGroup.removeDisplayObjectAndChildren(t),this.__renderGroup.addDisplayObjectAndChildren(t))},n.swapChildren=function(t,e){if(t!==e){var i=this.children.indexOf(t),r=this.children.indexOf(e);if(0>i||0>r)throw new Error(\"swapChildren: Both the supplied DisplayObjects must be a child of the caller.\");this.removeChild(t),this.removeChild(e),r>i?(this.addChildAt(e,i),this.addChildAt(t,r)):(this.addChildAt(t,r),this.addChildAt(e,i))}},n.getChildAt=function(t){if(t>=0&&t<this.children.length)return this.children[t];throw new Error(\"Both the supplied DisplayObjects must be a child of the caller \"+this)},n.removeChild=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error(t+\" The supplied DisplayObject must be a child of the caller \"+this);var i=t.first,r=t.last,s=r._iNext,n=i._iPrev;if(s&&(s._iPrev=n),n._iNext=s,this.last===r)for(var o=i._iPrev,a=this;a.last===r&&(a.last=o,a=a.parent););if(r._iNext=null,i._iPrev=null,this.stage){var h=t;do{h.interactive&&(this.stage.dirty=!0),h.stage=null,h=h._iNext}while(h)}t.__renderGroup&&t.__renderGroup.removeDisplayObjectAndChildren(t),t.parent=void 0,this.children.splice(e,1)},n.updateTransform=function(){if(this.visible){s.prototype.updateTransform.call(this);for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform()}},t.exports=r},function(t,e,i){\"use strict\";function r(t){if(n.call(this),this.anchor=new o,this.texture=t,this.blendMode=s.NORMAL,this._width=0,this._height=0,t.baseTexture.hasLoaded)this.updateFrame=!0;else{var e=this;this.texture.addEventListener(\"update\",function(){e.onTextureUpdate()})}this.renderable=!0}var s=i(11),n=i(6),o=i(3),a=i(4),h=r.prototype=Object.create(n.prototype,{constructor:{value:r}});Object.defineProperty(h,\"width\",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(h,\"height\",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),h.setTexture=function(t){this.texture.baseTexture!==t.baseTexture?(this.textureChange=!0,this.texture=t,this.__renderGroup&&this.__renderGroup.updateTexture(this)):this.texture=t,this.updateFrame=!0},h.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height),this.updateFrame=!0},r.fromFrame=function(t){var e=a.cache[t];if(!e)throw new Error('The frameId \"'+t+'\" does not exist in the texture cache'+this);return new r(e)},r.fromImage=function(t){return new r(a.fromImage(t))},t.exports=r},function(t,e,i){\"use strict\";function r(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0}var s=r.prototype;s.clone=function(){return new r(this.x,this.y,this.width,this.height)},s.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(t>=i&&t<=i+this.width){var r=this.y;if(e>=r&&e<=r+this.height)return!0}return!1},t.exports=r},function(t,e,i){\"use strict\";var r=e.Matrix=\"undefined\"!=typeof Float32Array?Float32Array:Array,s=e.mat3={},n=e.mat4={};s.create=function(){var t=new r(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},s.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.create=function(){var t=new r(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},s.multiply=function(t,e,i){i||(i=t);var r=t[0],s=t[1],n=t[2],o=t[3],a=t[4],h=t[5],l=t[6],u=t[7],c=t[8],f=e[0],d=e[1],p=e[2],v=e[3],m=e[4],g=e[5],x=e[6],b=e[7],y=e[8];return i[0]=f*r+d*o+p*l,i[1]=f*s+d*a+p*u,i[2]=f*n+d*h+p*c,i[3]=v*r+m*o+g*l,i[4]=v*s+m*a+g*u,i[5]=v*n+m*h+g*c,i[6]=x*r+b*o+y*l,i[7]=x*s+b*a+y*u,i[8]=x*n+b*h+y*c,i},s.clone=function(t){var e=new r(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},s.transpose=function(t,e){if(!e||t===e){var i=t[1],r=t[2],s=t[5];return t[1]=t[3],t[2]=t[6],t[3]=i,t[5]=t[7],t[6]=r,t[7]=s,t}return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],e},s.toMat4=function(t,e){return e||(e=n.create()),e[15]=1,e[14]=0,e[13]=0,e[12]=0,e[11]=0,e[10]=t[8],e[9]=t[7],e[8]=t[6],e[7]=0,e[6]=t[5],e[5]=t[4],e[4]=t[3],e[3]=0,e[2]=t[2],e[1]=t[1],e[0]=t[0],e},n.create=function(){var t=new r(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.transpose=function(t,e){if(!e||t===e){var i=t[1],r=t[2],s=t[3],n=t[6],o=t[7],a=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=i,t[6]=t[9],t[7]=t[13],t[8]=r,t[9]=n,t[11]=t[14],t[12]=s,t[13]=o,t[14]=a,t}return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},n.multiply=function(t,e,i){i||(i=t);var r=t[0],s=t[1],n=t[2],o=t[3],a=t[4],h=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],p=t[11],v=t[12],m=t[13],g=t[14],x=t[15],b=e[0],y=e[1],T=e[2],_=e[3];return i[0]=b*r+y*a+T*c+_*v,i[1]=b*s+y*h+T*f+_*m,i[2]=b*n+y*l+T*d+_*g,i[3]=b*o+y*u+T*p+_*x,b=e[4],y=e[5],T=e[6],_=e[7],i[4]=b*r+y*a+T*c+_*v,i[5]=b*s+y*h+T*f+_*m,i[6]=b*n+y*l+T*d+_*g,i[7]=b*o+y*u+T*p+_*x,b=e[8],y=e[9],T=e[10],_=e[11],i[8]=b*r+y*a+T*c+_*v,i[9]=b*s+y*h+T*f+_*m,i[10]=b*n+y*l+T*d+_*g,i[11]=b*o+y*u+T*p+_*x,b=e[12],y=e[13],T=e[14],_=e[15],i[12]=b*r+y*a+T*c+_*v,i[13]=b*s+y*h+T*f+_*m,i[14]=b*n+y*l+T*d+_*g,i[15]=b*o+y*u+T*p+_*x,i}},function(t,e,i){\"use strict\";function r(){s.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=\"black\",this.graphicsData=[],this.currentPath={points:[]}}var s=i(6),n=i(8),o=r.prototype=Object.create(s.prototype,{constructor:{value:r}});o.lineStyle=function(t,e,i){this.currentPath.points.length||this.graphicsData.pop(),this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=arguments.length<3?1:i,this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:r.POLY},this.graphicsData.push(this.currentPath)},o.moveTo=function(t,e){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath=this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:r.POLY},this.currentPath.points.push(t,e),this.graphicsData.push(this.currentPath)},o.lineTo=function(t,e){this.currentPath.points.push(t,e),this.dirty=!0},o.beginFill=function(t,e){this.filling=!0,this.fillColor=t||0,this.fillAlpha=arguments.length<2?1:e},o.endFill=function(){this.filling=!1,this.fillColor=null,this.fillAlpha=1},o.drawRect=function(t,e,i,s){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,i,s],type:r.RECT},this.graphicsData.push(this.currentPath),this.dirty=!0},o.drawCircle=function(t,e,i){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,i,i],type:r.CIRC},this.graphicsData.push(this.currentPath),this.dirty=!0},o.drawElipse=function(t,e,i,s){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[t,e,i,s],type:r.ELIP},this.graphicsData.push(this.currentPath),this.dirty=!0},o.clear=function(){this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this.bounds=null},o.updateFilterBounds=function(){if(!this.bounds){for(var t,e,i,s=1/0,o=-1/0,a=1/0,h=-1/0,l=0;l<this.graphicsData.length;l++){var u=this.graphicsData[l],c=u.type,f=u.lineWidth;if(t=u.points,c===r.RECT){e=t.x-f/2,i=t.y-f/2;var d=t.width+f,p=t.height+f;s=s>e?e:s,o=e+d>o?e+d:o,a=a>i?e:a,h=i+p>h?i+p:h}else if(c===r.CIRC||c===r.ELIP){e=t.x,i=t.y;var v=t.radius+f/2;s=s>e-v?e-v:s,o=e+v>o?e+v:o,a=a>i-v?i-v:a,h=i+v>h?i+v:h}else for(var m=0;m<t.length;m+=2)e=t[m],i=t[m+1],s=s>e-f?e-f:s,o=e+f>o?e+f:o,a=a>i-f?i-f:a,h=i+f>h?i+f:h}this.bounds=new n(s,a,o-s,h-a)}},r.POLY=0,r.RECT=1,r.CIRC=2,r.ELIP=3,t.exports=r},function(t,e,i){\"use strict\";t.exports={NORMAL:0,SCREEN:1}},function(t,e,i){\"use strict\";function r(t,e){if(o.call(this),this.width=100,this.height=100,this.scaleMode=e||r.SCALE_MODE.DEFAULT,this.hasLoaded=!1,this.source=t,t){if(\"complete\"in this.source)if(this.source.complete)this.hasLoaded=!0,this.width=this.source.width,this.height=this.source.height,n.texturesToUpdate.push(this);else{var i=this;this.source.onload=function(){i.hasLoaded=!0,i.width=i.source.width,i.height=i.source.height,n.texturesToUpdate.push(i),i.dispatchEvent({type:\"loaded\",content:i})}}else this.hasLoaded=!0,this.width=this.source.width,this.height=this.source.height,n.texturesToUpdate.push(this);this.imageUrl=null,this._powerOf2=!1}}var s=i(2),n=i(0),o=i(5),a={},h=r.prototype;h.destroy=function(){this.source.src&&(this.imageUrl in a&&delete a[this.imageUrl],this.imageUrl=null,this.source.src=null),this.source=null,n.texturesToDestroy.push(this)},h.updateSourceImage=function(t){this.hasLoaded=!1,this.source.src=null,this.source.src=t},r.fromImage=function(t,e,i){var n=a[t];if(!n){var o=new s.createImage;e&&(o.crossOrigin=\"\"),o.src=t,(n=new r(o,i)).imageUrl=t,a[t]=n}return n},r.SCALE_MODE={DEFAULT:0,LINEAR:0,NEAREST:1},t.exports=r},function(t,e,i){\"use strict\";function r(t){var e=\"data:\";if(t.slice(0,e.length).toLowerCase()===e){var i=t.slice(e.length),r=i.indexOf(\",\");if(-1===r)return null;var s=i.slice(0,r).split(\";\")[0];return s&&\"text/plain\"!==s.toLowerCase()?s.split(\"/\").pop().toLowerCase():\"txt\"}return null}function s(t,e){n.call(this),this.assetURLs=t,this.crossorigin=e}var n=i(5),o={},a=s.prototype;a.load=function(){function t(){e.onAssetLoaded()}var e=this;this.loadCount=this.assetURLs.length;for(var i=0,s=this.assetURLs.length;s>i;i++){var n=this.assetURLs[i],a=r(n);a||(a=n.split(\"?\").shift().split(\".\").pop().toLowerCase());var h=o[a];if(!h)throw new Error(a+\" is an unsupported file type\");var l=new h(n,this.crossorigin);l.addEventListener(\"loaded\",t),l.load()}},a.onAssetLoaded=function(){this.loadCount--,this.dispatchEvent({type:\"onProgress\",content:this}),this.onProgress&&this.onProgress(),this.loadCount||(this.dispatchEvent({type:\"onComplete\",content:this}),this.onComplete&&this.onComplete())},s.registerLoaderType=function(t,e){o[t]=e},t.exports=s},function(t,e,i){\"use strict\";var r=i(0),s=i(40),n=i(42),o=i(28);e.initDefaultShaders=function(){r.primitiveShader=new s,r.primitiveShader.init(),r.stripShader=new n,r.stripShader.init(),r.defaultShader=new o,r.defaultShader.init();var t=r.gl,e=r.defaultShader.program;t.useProgram(e),t.enableVertexAttribArray(r.defaultShader.aVertexPosition),t.enableVertexAttribArray(r.defaultShader.colorAttribute),t.enableVertexAttribArray(r.defaultShader.aTextureCoord)},e.activatePrimitiveShader=function(){var t=r.gl;t.useProgram(r.primitiveShader.program),t.disableVertexAttribArray(r.defaultShader.aVertexPosition),t.disableVertexAttribArray(r.defaultShader.colorAttribute),t.disableVertexAttribArray(r.defaultShader.aTextureCoord),t.enableVertexAttribArray(r.primitiveShader.aVertexPosition),t.enableVertexAttribArray(r.primitiveShader.colorAttribute)},e.deactivatePrimitiveShader=function(){var t=r.gl;t.useProgram(r.defaultShader.program),t.disableVertexAttribArray(r.primitiveShader.aVertexPosition),t.disableVertexAttribArray(r.primitiveShader.colorAttribute),t.enableVertexAttribArray(r.defaultShader.aVertexPosition),t.enableVertexAttribArray(r.defaultShader.colorAttribute),t.enableVertexAttribArray(r.defaultShader.aTextureCoord)},e.activateStripShader=function(){r.gl.useProgram(r.stripShader.program)},e.deactivateStripShader=function(){r.gl.useProgram(r.defaultShader.program)}},function(t,e,i){\"use strict\";t.exports=function(){this.visible=!0,this.renderable=!0}},function(t,e,i){\"use strict\";function r(t,e,i){n.call(this),this.texture=t,this.blendMode=s.NORMAL;try{this.uvs=new Float32Array([0,1,1,1,1,0,0,1]),this.verticies=new Float32Array([0,0,0,0,0,0,0,0,0]),this.colors=new Float32Array([1,1,1,1]),this.indices=new Uint16Array([0,1,2,3])}catch(t){this.uvs=[0,1,1,1,1,0,0,1],this.verticies=[0,0,0,0,0,0,0,0,0],this.colors=[1,1,1,1],this.indices=[0,1,2,3]}if(this.width=e,this.height=i,t.baseTexture.hasLoaded)this.width=this.texture.frame.width,this.height=this.texture.frame.height,this.updateFrame=!0;else{var r=this;this.texture.addEventListener(\"update\",function(){r.onTextureUpdate()})}this.renderable=!0}var s=i(11),n=i(6),o=r.prototype=Object.create(n.prototype,{constructor:{value:r}});o.setTexture=function(t){this.texture=t,this.width=t.frame.width,this.height=t.frame.height,this.updateFrame=!0},o.onTextureUpdate=function(){this.updateFrame=!0},t.exports=r},function(t,e,i){\"use strict\";function r(t,e){n.call(this),this.texture=o.fromImage(t,e),this.frames=[]}var s=i(13),n=i(5),o=i(4),a=r.prototype;a.load=function(){if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var t=this;this.texture.baseTexture.addEventListener(\"loaded\",function(){t.onLoaded()})}},a.onLoaded=function(){this.dispatchEvent({type:\"loaded\",content:this})},a.loadFramedSpriteSheet=function(t,e,i){this.frames=[];for(var r=Math.floor(this.texture.width/t),s=Math.floor(this.texture.height/e),n=0,a=0;s>a;a++)for(var h=0;r>h;h++,n++){var l=new o(this.texture,{x:h*t,y:a*e,width:t,height:e});this.frames.push(l),i&&(o.cache[i+\"-\"+n]=l)}if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var u=this;this.texture.baseTexture.addEventListener(\"loaded\",function(){u.onLoaded()})}},s.registerLoaderType(\"jpg\",r),s.registerLoaderType(\"jpeg\",r),s.registerLoaderType(\"png\",r),s.registerLoaderType(\"gif\",r),t.exports=r},function(t,e,i){\"use strict\";var r=i(2);e.shader=function(t,e,i){var s=e.join(\"\\n\"),n=t.createShader(i);return t.shaderSource(n,s),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(r.console&&r.console.error(t.getShaderInfoLog(n)),null)},e.program=function(t,i,s){var n=e.shader(t,s,t.FRAGMENT_SHADER),o=e.shader(t,i,t.VERTEX_SHADER),a=t.createProgram();return t.attachShader(a,o),t.attachShader(a,n),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)?a:(r.console&&r.console.error(\"Could not initialise shaders\"),null)}},function(t,e,i){function r(){this.last=this,this.first=this,this.position=new a,this.scale=new a(1,1),this.pivot=new a(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor=\"pointer\",this.worldTransform=n.create(),this.localTransform=n.create(),this.color=[],this.dynamic=!0,this._sr=0,this._cr=1,this.filterArea=new h(0,0,1,1)}var s=i(0),n=i(9).mat3,o=i(15),a=i(3),h=i(8),l=r.prototype;l.setInteractive=function(t){this.interactive=t},Object.defineProperty(l,\"interactive\",{get:function(){return this._interactive},set:function(t){this._interactive=t,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(l,\"mask\",{get:function(){return this._mask},set:function(t){t?this._mask?(t.start=this._mask.start,t.end=this._mask.end):(this.addFilter(t),t.renderable=!1):(this.removeFilter(this._mask),this._mask.renderable=!0),this._mask=t}}),Object.defineProperty(l,\"filters\",{get:function(){return this._filters},set:function(t){if(t){this._filters&&this.removeFilter(this._filters),this.addFilter(t);for(var e=[],i=0;i<t.length;i++)for(var r=t[i].passes,s=0;s<r.length;s++)e.push(r[s]);t.start.filterPasses=e}else this._filters&&this.removeFilter(this._filters);this._filters=t}}),l.addFilter=function(t){var e=new o,i=new o;t.start=e,t.end=i,e.data=t,i.data=t,e.first=e.last=this,i.first=i.last=this,e.open=!0,e.target=this;var r,s,n=e,a=e;(s=this.first._iPrev)?(r=s._iNext,n._iPrev=s,s._iNext=n):r=this,r&&(r._iPrev=a,a._iNext=r),n=i,a=i,r=null,s=null,(r=(s=this.last)._iNext)&&(r._iPrev=a,a._iNext=r),n._iPrev=s,s._iNext=n;for(var h=this,l=this.last;h;)h.last===l&&(h.last=i),h=h.parent;this.first=e,this.__renderGroup&&this.__renderGroup.addFilterBlocks(e,i)},l.removeFilter=function(t){var e=t.start,i=e._iNext,r=e._iPrev;i&&(i._iPrev=r),r&&(r._iNext=i),this.first=e._iNext;var s=t.end;i=s._iNext,r=s._iPrev,i&&(i._iPrev=r),r._iNext=i;for(var n=s._iPrev,o=this;o.last===s&&(o.last=n,o=o.parent););this.__renderGroup&&this.__renderGroup.removeFilterBlocks(e,s)},l.updateTransform=function(){this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation));var t=this.localTransform,e=this.parent.worldTransform,i=this.worldTransform;t[0]=this._cr*this.scale.x,t[1]=-this._sr*this.scale.y,t[3]=this._sr*this.scale.x,t[4]=this._cr*this.scale.y;var r=this.pivot.x,n=this.pivot.y,o=t[0],a=t[1],h=this.position.x-t[0]*r-n*t[1],l=t[3],u=t[4],c=this.position.y-t[4]*n-r*t[3],f=e[0],d=e[1],p=e[2],v=e[3],m=e[4],g=e[5];t[2]=h,t[5]=c,i[0]=f*o+d*l,i[1]=f*a+d*u,i[2]=f*h+d*c+p,i[3]=v*o+m*l,i[4]=v*a+m*u,i[5]=v*h+m*c+g,this.worldAlpha=this.alpha*this.parent.worldAlpha,this.vcount=s.visibleCount},t.exports=r},function(t,e,i){\"use strict\";function r(t,e,i,r){this.transparent=r,this.width=t||800,this.height=e||600,this.view=i||s.createCanvas(),this.context=this.view.getContext(\"2d\"),this.smoothProperty=null,\"imageSmoothingEnabled\"in this.context?this.smoothProperty=\"imageSmoothingEnabled\":\"webkitImageSmoothingEnabled\"in this.context?this.smoothProperty=\"webkitImageSmoothingEnabled\":\"mozImageSmoothingEnabled\"in this.context?this.smoothProperty=\"mozImageSmoothingEnabled\":\"oImageSmoothingEnabled\"in this.context&&(this.smoothProperty=\"oImageSmoothingEnabled\"),this.scaleMode=null,this.refresh=!0,this.view.width=this.width,this.view.height=this.height,this.count=0}var s=i(2),n=i(0),o=i(34),a=i(12),h=i(4),l=i(7),u=i(21),c=i(16),f=i(22),d=i(10),p=i(15),v=r.prototype;v.render=function(t){n.texturesToUpdate=[],n.texturesToDestroy=[],n.visibleCount++,t.updateTransform(),this.view.style.backgroundColor===t.backgroundColorString||this.transparent||(this.view.style.backgroundColor=t.backgroundColorString),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height),this.renderDisplayObject(t),t.interactive&&(t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this))),h.frameUpdates.length>0&&(h.frameUpdates=[])},v.resize=function(t,e){this.width=t,this.height=e,this.view.width=t,this.view.height=e},v.renderDisplayObject=function(t){var e,i=this.context;i.globalCompositeOperation=\"source-over\";var r=t.last._iNext;t=t.first;do{if(e=t.worldTransform,t.visible)if(t.renderable){if(t instanceof l){var s=t.texture.frame;s&&s.width&&s.height&&t.texture.baseTexture.source&&(i.globalAlpha=t.worldAlpha,i.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),this.smoothProperty&&this.scaleMode!==t.texture.baseTexture.scaleMode&&(this.scaleMode=t.texture.baseTexture.scaleMode,i[this.smoothProperty]=this.scaleMode===a.SCALE_MODE.LINEAR),i.drawImage(t.texture.baseTexture.source,s.x,s.y,s.width,s.height,t.anchor.x*-s.width,t.anchor.y*-s.height,s.width,s.height))}else if(t instanceof c)i.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),this.renderStrip(t);else if(t instanceof u)i.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),this.renderTilingSprite(t);else if(t instanceof f)i.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),t.renderCanvas(this);else if(t instanceof d)i.setTransform(e[0],e[3],e[1],e[4],e[2],e[5]),o.renderGraphics(t,i);else if(t instanceof p&&t.data instanceof d){var n=t.data;if(t.open){i.save();var h=n.alpha,v=n.worldTransform;i.setTransform(v[0],v[3],v[1],v[4],v[2],v[5]),n.worldAlpha=.5,i.worldAlpha=0,o.renderGraphicsMask(n,i),i.clip(),n.worldAlpha=h}else i.restore()}t=t._iNext}else t=t._iNext;else t=t.last._iNext}while(t!==r)},v.renderStripFlat=function(t){var e=this.context,i=t.verticies,r=i.length/2;this.count++,e.beginPath();for(var s=1;r-2>s;s++){var n=2*s,o=i[n],a=i[n+2],h=i[n+4],l=i[n+1],u=i[n+3],c=i[n+5];e.moveTo(o,l),e.lineTo(a,u),e.lineTo(h,c)}e.fillStyle=\"#FF0000\",e.fill(),e.closePath()},v.renderTilingSprite=function(t){var e=this.context;e.globalAlpha=t.worldAlpha,t.__tilePattern||(t.__tilePattern=e.createPattern(t.texture.baseTexture.source,\"repeat\")),e.beginPath();var i=t.tilePosition,r=t.tileScale;e.scale(r.x,r.y),e.translate(i.x,i.y),e.fillStyle=t.__tilePattern,e.fillRect(-i.x,-i.y,t.width/r.x,t.height/r.y),e.scale(1/r.x,1/r.y),e.translate(-i.x,-i.y),e.closePath()},v.renderStrip=function(t){var e=this.context,i=t.verticies,r=t.uvs,s=i.length/2;this.count++;for(var n=1;s-2>n;n++){var o=2*n,a=i[o],h=i[o+2],l=i[o+4],u=i[o+1],c=i[o+3],f=i[o+5],d=r[o]*t.texture.width,p=r[o+2]*t.texture.width,v=r[o+4]*t.texture.width,m=r[o+1]*t.texture.height,g=r[o+3]*t.texture.height,x=r[o+5]*t.texture.height;e.save(),e.beginPath(),e.moveTo(a,u),e.lineTo(h,c),e.lineTo(l,f),e.closePath(),e.clip();var b=d*g+m*v+p*x-g*v-m*p-d*x,y=a*g+m*l+h*x-g*l-m*h-a*x,T=d*h+a*v+p*l-h*v-a*p-d*l,_=d*g*l+m*h*v+a*p*x-a*g*v-m*p*l-d*h*x,A=u*g+m*f+c*x-g*f-m*c-u*x,w=d*c+u*v+p*f-c*v-u*p-d*f,E=d*g*f+m*c*v+u*p*x-u*g*v-m*p*f-d*c*x;e.transform(y/b,A/b,T/b,w/b,_/b,E/b),e.drawImage(t.texture.baseTexture.source,0,0),e.restore()}},t.exports=r},function(t,e,i){\"use strict\";function r(t,e,i){n.call(this),this.texture=t,this.width=e,this.height=i,this.tileScale=new o(1,1),this.tilePosition=new o(0,0),this.renderable=!0,this.blendMode=s.NORMAL}var s=i(11),n=i(6),o=i(3),a=r.prototype=Object.create(n.prototype,{constructor:{value:r}});a.setTexture=function(t){this.texture=t,this.updateFrame=!0},a.onTextureUpdate=function(){this.updateFrame=!0},t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.renderable=!0}var s=i(19),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});n.renderCanvas=function(){},n.initWebGL=function(){},n.renderWebGL=function(){},t.exports=r},function(t,e,i){\"use strict\";function r(t){this.gl=t,this.size=0,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.blendMode=n.NORMAL,this.dynamicSize=1}var s=i(0),n=i(11),o=r.prototype;o.clean=function(){this.verticies=[],this.uvs=[],this.indices=[],this.colors=[],this.dynamicSize=1,this.texture=null,this.last=null,this.size=0,this.head=null,this.tail=null},o.restoreLostContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer()},o.init=function(t){t.batch=this,this.dirty=!0,this.blendMode=t.blendMode,this.texture=t.texture.baseTexture,this.head=t,this.tail=t,this.size=1,this.growBatch()},o.insertBefore=function(t,e){this.size++,t.batch=this,this.dirty=!0;var i=e.__prev;e.__prev=t,t.__next=e,i?(t.__prev=i,i.__next=t):this.head=t},o.insertAfter=function(t,e){this.size++,t.batch=this,this.dirty=!0;var i=e.__next;e.__next=t,t.__prev=e,i?(t.__next=i,i.__prev=t):this.tail=t},o.remove=function(t){return this.size--,this.size?(t.__prev?t.__prev.__next=t.__next:(this.head=t.__next,this.head.__prev=null),t.__next?t.__next.__prev=t.__prev:(this.tail=t.__prev,this.tail.__next=null),t.batch=null,t.__next=null,t.__prev=null,void(this.dirty=!0)):(t.batch=null,t.__prev=null,void(t.__next=null))},o.split=function(t){this.dirty=!0;var e=new r(this.gl);e.init(t),e.texture=this.texture,e.tail=this.tail,this.tail=t.__prev,this.tail.__next=null,t.__prev=null;for(var i=0;t;)i++,t.batch=e,t=t.__next;return e.size=i,this.size-=i,e},o.merge=function(t){this.dirty=!0,this.tail.__next=t.head,t.head.__prev=this.tail,this.size+=t.size,this.tail=t.tail;for(var e=t.head;e;)e.batch=this,e=e.__next},o.growBatch=function(){var t=this.gl;1===this.size?this.dynamicSize=1:this.dynamicSize=1.5*this.size,this.verticies=new Float32Array(8*this.dynamicSize),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.verticies,t.DYNAMIC_DRAW),this.uvs=new Float32Array(8*this.dynamicSize),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvs,t.DYNAMIC_DRAW),this.dirtyUVS=!0,this.colors=new Float32Array(4*this.dynamicSize),t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colors,t.DYNAMIC_DRAW),this.dirtyColors=!0,this.indices=new Uint16Array(6*this.dynamicSize);for(var e=0,i=this.indices.length/6;i>e;e++){var r=6*e,s=4*e;this.indices[r+0]=s+0,this.indices[r+1]=s+1,this.indices[r+2]=s+2,this.indices[r+3]=s+0,this.indices[r+4]=s+2,this.indices[r+5]=s+3}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},o.refresh=function(){this.dynamicSize<this.size&&this.growBatch();for(var t,e,i=0,r=this.head;r;){t=8*i;var s=r.texture,n=s.frame,o=s.baseTexture.width,a=s.baseTexture.height;this.uvs[t+0]=n.x/o,this.uvs[t+1]=n.y/a,this.uvs[t+2]=(n.x+n.width)/o,this.uvs[t+3]=n.y/a,this.uvs[t+4]=(n.x+n.width)/o,this.uvs[t+5]=(n.y+n.height)/a,this.uvs[t+6]=n.x/o,this.uvs[t+7]=(n.y+n.height)/a,r.updateFrame=!1,e=4*i,this.colors[e]=this.colors[e+1]=this.colors[e+2]=this.colors[e+3]=r.worldAlpha,r=r.__next,i++}this.dirtyUVS=!0,this.dirtyColors=!0},o.update=function(){for(var t,e,i,r,n,o,a,h,l,u,c,f,d,p,v,m,g=0,x=this.head,b=this.verticies,y=this.uvs,T=this.colors;x;){if(x.vcount===s.visibleCount){if(e=x.texture.frame.width,i=x.texture.frame.height,o=e*(1-(r=x.anchor.x)),a=e*-r,h=i*(1-(n=x.anchor.y)),l=i*-n,u=8*g,c=(t=x.worldTransform)[0],f=t[3],d=t[1],p=t[4],v=t[2],m=t[5],b[u+0]=c*a+d*l+v,b[u+1]=p*l+f*a+m,b[u+2]=c*o+d*l+v,b[u+3]=p*l+f*o+m,b[u+4]=c*o+d*h+v,b[u+5]=p*h+f*o+m,b[u+6]=c*a+d*h+v,b[u+7]=p*h+f*a+m,x.updateFrame||x.texture.updateFrame){this.dirtyUVS=!0;var _=x.texture,A=_.frame,w=_.baseTexture.width,E=_.baseTexture.height;y[u+0]=A.x/w,y[u+1]=A.y/E,y[u+2]=(A.x+A.width)/w,y[u+3]=A.y/E,y[u+4]=(A.x+A.width)/w,y[u+5]=(A.y+A.height)/E,y[u+6]=A.x/w,y[u+7]=(A.y+A.height)/E,x.updateFrame=!1}if(x.cacheAlpha!==x.worldAlpha){x.cacheAlpha=x.worldAlpha;var C=4*g;T[C]=T[C+1]=T[C+2]=T[C+3]=x.worldAlpha,this.dirtyColors=!0}}else b[(u=8*g)+0]=b[u+1]=b[u+2]=b[u+3]=b[u+4]=b[u+5]=b[u+6]=b[u+7]=0;g++,x=x.__next}},o.render=function(t,e){if(t=t||0,arguments.length<2&&(e=this.size),this.dirty&&(this.refresh(),this.dirty=!1),this.size){this.update();var i=this.gl,r=s.defaultShader;i.bindBuffer(i.ARRAY_BUFFER,this.vertexBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.verticies),i.vertexAttribPointer(r.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.uvBuffer),this.dirtyUVS&&(this.dirtyUVS=!1,i.bufferSubData(i.ARRAY_BUFFER,0,this.uvs)),i.vertexAttribPointer(r.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.texture._glTexture),i.bindBuffer(i.ARRAY_BUFFER,this.colorBuffer),this.dirtyColors&&(this.dirtyColors=!1,i.bufferSubData(i.ARRAY_BUFFER,0,this.colors)),i.vertexAttribPointer(r.colorAttribute,1,i.FLOAT,!1,0,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var n=e-t;i.drawElements(i.TRIANGLES,6*n,i.UNSIGNED_SHORT,2*t*6)}};var a=[];r.restoreBatches=function(t){for(var e=0,i=a.length;i>e;e++)a[e].restoreLostContext(t)},r.getBatch=function(){return a.length?a.pop():new r(s.gl)},r.returnBatch=function(t){t.clean(),a.push(t)},t.exports=r},function(t,e,i){\"use strict\";function r(t,e){this.gl=t,this.root=null,this.backgroundColor=void 0,this.transparent=void 0===e||e,this.batchs=[],this.toRemove=[],this.filterManager=new h(this.transparent)}var s=i(0),n=i(14),o=i(36),a=i(23),h=i(63),l=i(9).mat3,u=i(12),c=i(21),f=i(16),d=i(10),p=i(15),v=i(7),m=i(22),g=r.prototype;g.setRenderable=function(t){this.root&&this.removeDisplayObjectAndChildren(this.root),t.worldVisible=t.visible,this.root=t,this.addDisplayObjectAndChildren(t)},g.render=function(t,e){var i=this.gl;r.updateTextures(i),i.uniform2f(s.defaultShader.projectionVector,t.x,t.y),this.filterManager.begin(t,e),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);for(var n,o=0;o<this.batchs.length;o++)(n=this.batchs[o])instanceof a?this.batchs[o].render():this.renderSpecial(n,t)},g.handleFilter=function(){},g.renderSpecific=function(t,e,i){var n=this.gl;r.updateTextures(n),n.uniform2f(s.defaultShader.projectionVector,e.x,e.y),this.filterManager.begin(e,i);for(var o,h,l,u,c,f,d=t.first;d._iNext&&(!d.renderable||!d.__renderGroup);)d=d._iNext;var p=d.batch;if(d instanceof v)if((f=(p=d.batch).head)===d)o=0;else for(o=1;f.__next!==d;)o++,f=f.__next;else p=d;for(var m=t.last;m._iPrev&&(!m.renderable||!m.__renderGroup);)m=m._iNext;if(m instanceof v)if((f=(c=m.batch).head)===m)l=0;else for(l=1;f.__next!==m;)l++,f=f.__next;else c=m;if(p!==c){h=this.batchs.indexOf(p),u=this.batchs.indexOf(c),p instanceof a?p.render(o):this.renderSpecial(p,e);for(var g,x=h+1;u>x;x++)(g=this.batchs[x])instanceof a?this.batchs[x].render():this.renderSpecial(g,e);c instanceof a?c.render(0,l+1):this.renderSpecial(c,e)}else p instanceof a?p.render(o,l+1):this.renderSpecial(p,e)},g.renderSpecial=function(t,e){var i=t.vcount===s.visibleCount;t instanceof c?i&&this.renderTilingSprite(t,e):t instanceof f?i&&this.renderStrip(t,e):t instanceof m?i&&t.renderWebGL(this,e):t instanceof d?i&&t.renderable&&o.renderGraphics(t,e):t instanceof p&&this.handleFilterBlock(t,e)};var x=[];g.handleFilterBlock=function(t,e){var i=s.gl;if(t.open)t.data instanceof Array?this.filterManager.pushFilter(t):(x.push(t),i.enable(i.STENCIL_TEST),i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,1,1),i.stencilOp(i.KEEP,i.KEEP,i.INCR),o.renderGraphics(t.data,e),i.colorMask(!0,!0,!0,!0),i.stencilFunc(i.NOTEQUAL,0,x.length),i.stencilOp(i.KEEP,i.KEEP,i.KEEP));else if(t.data instanceof Array)this.filterManager.popFilter();else{var r=x.pop(t);r&&(i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,1,1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),o.renderGraphics(r.data,e),i.colorMask(!0,!0,!0,!0),i.stencilFunc(i.NOTEQUAL,0,x.length),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)),i.disable(i.STENCIL_TEST)}},g.updateTexture=function(t){this.removeObject(t);for(var e=t.first;e!==this.root&&(!(e=e._iPrev).renderable||!e.__renderGroup););for(var i=t.last;i._iNext&&(!(i=i._iNext).renderable||!i.__renderGroup););this.insertObject(t,e,i)},g.addFilterBlocks=function(t,e){t.__renderGroup=this,e.__renderGroup=this;for(var i=t;i!==this.root.first&&(!(i=i._iPrev).renderable||!i.__renderGroup););this.insertAfter(t,i);for(var r=e;r!==this.root.first&&(!(r=r._iPrev).renderable||!r.__renderGroup););this.insertAfter(e,r)},g.removeFilterBlocks=function(t,e){this.removeObject(t),this.removeObject(e)},g.addDisplayObjectAndChildren=function(t){t.__renderGroup&&t.__renderGroup.removeDisplayObjectAndChildren(t);for(var e=t.first;e!==this.root.first&&(!(e=e._iPrev).renderable||!e.__renderGroup););for(var i=t.last;i._iNext&&(!(i=i._iNext).renderable||!i.__renderGroup););var r=t.first,s=t.last._iNext;do{r.__renderGroup=this,r.renderable&&(this.insertObject(r,e,i),e=r),r=r._iNext}while(r!==s)},g.removeDisplayObjectAndChildren=function(t){if(t.__renderGroup===this)do{t.__renderGroup=null,t.renderable&&this.removeObject(t),t=t._iNext}while(t)},g.insertObject=function(t,e,i){var r,s,n=e,o=i;if(t instanceof v){var h,l;if(n instanceof v){if((h=n.batch)&&h.texture===t.texture.baseTexture&&h.blendMode===t.blendMode)return void h.insertAfter(t,n)}else h=n;if(o)if(o instanceof v){if(l=o.batch){if(l.texture===t.texture.baseTexture&&l.blendMode===t.blendMode)return void l.insertBefore(t,o);if(l===h){var u=h.split(o);return r=a.getBatch(),s=this.batchs.indexOf(h),r.init(t),void this.batchs.splice(s+1,0,r,u)}}}else l=o;return(r=a.getBatch()).init(t),void(h?(s=this.batchs.indexOf(h),this.batchs.splice(s+1,0,r)):this.batchs.push(r))}t instanceof c?this.initTilingSprite(t):t instanceof f&&this.initStrip(t),this.insertAfter(t,n)},g.insertAfter=function(t,e){var i,r,s;e instanceof v?(i=e.batch)?i.tail===e?(s=this.batchs.indexOf(i),this.batchs.splice(s+1,0,t)):(r=i.split(e.__next),s=this.batchs.indexOf(i),this.batchs.splice(s+1,0,t,r)):this.batchs.push(t):(s=this.batchs.indexOf(e),this.batchs.splice(s+1,0,t))},g.removeObject=function(t){var e,i;if(t instanceof v){var r=t.batch;if(!r)return;r.remove(t),r.size||(e=r)}else e=t;if(e){if(-1===(i=this.batchs.indexOf(e)))return;if(0===i||i===this.batchs.length-1)return this.batchs.splice(i,1),void(e instanceof a&&a.returnBatch(e));if(this.batchs[i-1]instanceof a&&this.batchs[i+1]instanceof a&&this.batchs[i-1].texture===this.batchs[i+1].texture&&this.batchs[i-1].blendMode===this.batchs[i+1].blendMode)return this.batchs[i-1].merge(this.batchs[i+1]),e instanceof a&&a.returnBatch(e),a.returnBatch(this.batchs[i+1]),void this.batchs.splice(i,2);this.batchs.splice(i,1),e instanceof a&&a.returnBatch(e)}},g.initTilingSprite=function(t){var e=this.gl;t.verticies=new Float32Array([0,0,t.width,0,t.width,t.height,0,t.height]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.colors=new Float32Array([1,1,1,1]),t.indices=new Uint16Array([0,1,3,2]),t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.verticies,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW),t.texture.baseTexture._glTexture?(e.bindTexture(e.TEXTURE_2D,t.texture.baseTexture._glTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),t.texture.baseTexture._powerOf2=!0):t.texture.baseTexture._powerOf2=!0},g.renderStrip=function(t,e){var i=this.gl;n.activateStripShader();var r=s.stripShader,o=l.clone(t.worldTransform);l.transpose(o),i.uniformMatrix3fv(r.translationMatrix,!1,o),i.uniform2f(r.projectionVector,e.x,e.y),i.uniform2f(r.offsetVector,-s.offset.x,-s.offset.y),i.uniform1f(r.alpha,t.worldAlpha),t.dirty?(t.dirty=!1,i.bindBuffer(i.ARRAY_BUFFER,t._vertexBuffer),i.bufferData(i.ARRAY_BUFFER,t.verticies,i.STATIC_DRAW),i.vertexAttribPointer(r.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,t._uvBuffer),i.bufferData(i.ARRAY_BUFFER,t.uvs,i.STATIC_DRAW),i.vertexAttribPointer(r.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t.texture.baseTexture._glTexture),i.bindBuffer(i.ARRAY_BUFFER,t._colorBuffer),i.bufferData(i.ARRAY_BUFFER,t.colors,i.STATIC_DRAW),i.vertexAttribPointer(r.colorAttribute,1,i.FLOAT,!1,0,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t._indexBuffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.indices,i.STATIC_DRAW)):(i.bindBuffer(i.ARRAY_BUFFER,t._vertexBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,t.verticies),i.vertexAttribPointer(r.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,t._uvBuffer),i.vertexAttribPointer(r.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t.texture.baseTexture._glTexture),i.bindBuffer(i.ARRAY_BUFFER,t._colorBuffer),i.vertexAttribPointer(r.colorAttribute,1,i.FLOAT,!1,0,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t._indexBuffer)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),n.deactivateStripShader()},g.renderTilingSprite=function(t,e){var i=this.gl,r=t.tilePosition,s=t.tileScale,n=r.x/t.texture.baseTexture.width,o=r.y/t.texture.baseTexture.height,a=t.width/t.texture.baseTexture.width/s.x,h=t.height/t.texture.baseTexture.height/s.y;t.uvs[0]=0-n,t.uvs[1]=0-o,t.uvs[2]=1*a-n,t.uvs[3]=0-o,t.uvs[4]=1*a-n,t.uvs[5]=1*h-o,t.uvs[6]=0-n,t.uvs[7]=1*h-o,i.bindBuffer(i.ARRAY_BUFFER,t._uvBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,t.uvs),this.renderStrip(t,e)},g.initStrip=function(t){var e=this.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.verticies,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},r.updateTexture=function(t,e){e._glTexture||(e._glTexture=t.createTexture()),e.hasLoaded&&(t.bindTexture(t.TEXTURE_2D,e._glTexture),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===u.SCALE_MODE.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===u.SCALE_MODE.LINEAR?t.LINEAR:t.NEAREST),e._powerOf2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindTexture(t.TEXTURE_2D,null))},r.destroyTexture=function(t,e){e._glTexture&&(e._glTexture=t.createTexture(),t.deleteTexture(t.TEXTURE_2D,e._glTexture))},r.updateTextures=function(t){for(var e=0,i=s.texturesToUpdate.length;i>e;e++)r.updateTexture(t,s.texturesToUpdate[e]);for(e=0,i=s.texturesToDestroy.length;i>e;e++)r.destroyTexture(t,s.texturesToDestroy[e]);s.texturesToUpdate=[],s.texturesToDestroy=[]},t.exports=r},function(t,e,i){\"use strict\";function r(t){if(n.call(this),this.spineData=r.animCache[t],!this.spineData)throw new Error(\"Spine data must be preloaded using SpineLoader or AssetLoader: \"+t);this.skeleton=new s.Skeleton(this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new s.AnimationStateData(this.spineData),this.state=new s.AnimationState(this.stateData),this.slotContainers=[];for(var e=0,i=this.skeleton.drawOrder.length;i>e;e++){var o=this.skeleton.drawOrder[e],a=o.attachment,h=new n;if(this.slotContainers.push(h),this.addChild(h),a instanceof s.RegionAttachment){var l=a.rendererObject.name,u=this.createSprite(o,a.rendererObject);o.currentSprite=u,o.currentSpriteName=l,h.addChild(u)}}}var s=i(26),n=i(6),o=i(7),a=i(4),h=r.prototype=Object.create(n.prototype,{constructor:{value:r}});h.updateTransform=function(){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,i=0,r=e.length;r>i;i++){var o=e[i],a=o.attachment,h=this.slotContainers[i];if(a instanceof s.RegionAttachment){if(a.rendererObject&&(!o.currentSpriteName||o.currentSpriteName!==a.name)){var l=a.rendererObject.name;if(void 0!==o.currentSprite&&(o.currentSprite.visible=!1),o.sprites=o.sprites||{},void 0!==o.sprites[l])o.sprites[l].visible=!0;else{var u=this.createSprite(o,a.rendererObject);h.addChild(u)}o.currentSprite=o.sprites[l],o.currentSpriteName=l}h.visible=!0;var c=o.bone;h.position.x=c.worldX+a.x*c.m00+a.y*c.m01,h.position.y=c.worldY+a.x*c.m10+a.y*c.m11,h.scale.x=c.worldScaleX,h.scale.y=c.worldScaleY,h.rotation=-o.bone.worldRotation*Math.PI/180}else h.visible=!1}n.prototype.updateTransform.call(this)},h.createSprite=function(t,e){var i=a.cache[e.name]?e.name:e.name+\".png\",r=new o(a.fromFrame(i));return r.scale=e.scale,r.rotation=e.rotation,r.anchor.x=r.anchor.y=.5,t.sprites=t.sprites||{},t.sprites[e.name]=r,r},r.animCache={},t.exports=r},function(t,e,i){\"use strict\";var r=t.exports={};r.BoneData=function(t,e){this.name=t,this.parent=e},r.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1},r.SlotData=function(t,e){this.name=t,this.boneData=e},r.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null},r.Bone=function(t,e){this.data=t,this.parent=e,this.setToSetupPose()},r.Bone.yDown=!1,r.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,updateWorldTransform:function(t,e){var i=this.parent;null!=i?(this.worldX=this.x*i.m00+this.y*i.m01+i.worldX,this.worldY=this.x*i.m10+this.y*i.m11+i.worldY,this.worldScaleX=i.worldScaleX*this.scaleX,this.worldScaleY=i.worldScaleY*this.scaleY,this.worldRotation=i.worldRotation+this.rotation):(this.worldX=this.x,this.worldY=this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotation);var s=this.worldRotation*Math.PI/180,n=Math.cos(s),o=Math.sin(s);this.m00=n*this.worldScaleX,this.m10=o*this.worldScaleX,this.m01=-o*this.worldScaleY,this.m11=n*this.worldScaleY,t&&(this.m00=-this.m00,this.m01=-this.m01),e&&(this.m10=-this.m10,this.m11=-this.m11),r.Bone.yDown&&(this.m10=-this.m10,this.m11=-this.m11)},setToSetupPose:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY}},r.Slot=function(t,e,i){this.data=t,this.skeleton=e,this.bone=i,this.setToSetupPose()},r.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,setAttachment:function(t){this.attachment=t,this._attachmentTime=this.skeleton.time},setAttachmentTime:function(t){this._attachmentTime=this.skeleton.time-t},getAttachmentTime:function(){return this.skeleton.time-this._attachmentTime},setToSetupPose:function(){var t=this.data;this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a;for(var e=this.skeleton.data.slots,i=0,r=e.length;r>i;i++)if(e[i]==t){this.setAttachment(t.attachmentName?this.skeleton.getAttachmentBySlotIndex(i,t.attachmentName):null);break}}},r.Skin=function(t){this.name=t,this.attachments={}},r.Skin.prototype={addAttachment:function(t,e,i){this.attachments[t+\":\"+e]=i},getAttachment:function(t,e){return this.attachments[t+\":\"+e]},_attachAll:function(t,e){for(var i in e.attachments){var r=i.indexOf(\":\"),s=parseInt(i.substring(0,r),10),n=i.substring(r+1),o=t.slots[s];if(o.attachment&&o.attachment.name==n){var a=this.getAttachment(s,n);a&&o.setAttachment(a)}}}},r.Animation=function(t,e,i){this.name=t,this.timelines=e,this.duration=i},r.Animation.prototype={apply:function(t,e,i){i&&this.duration&&(e%=this.duration);for(var r=this.timelines,s=0,n=r.length;n>s;s++)r[s].apply(t,e,1)},mix:function(t,e,i,r){i&&this.duration&&(e%=this.duration);for(var s=this.timelines,n=0,o=s.length;o>n;n++)s[n].apply(t,e,r)}},r.binarySearch=function(t,e,i){var r=0,s=Math.floor(t.length/i)-2;if(!s)return i;for(var n=s>>>1;;){if(t[(n+1)*i]<=e?r=n+1:s=n,r==s)return(r+1)*i;n=r+s>>>1}},r.linearSearch=function(t,e,i){for(var r=0,s=t.length-i;s>=r;r+=i)if(t[r]>e)return r;return-1},r.Curves=function(t){this.curves=[],this.curves.length=6*(t-1)},r.Curves.prototype={setLinear:function(t){this.curves[6*t]=0},setStepped:function(t){this.curves[6*t]=-1},setCurve:function(t,e,i,r,s){var n=.1*.1,o=.1*n,a=3*n,h=6*n,l=6*o,u=2*-e+r,c=2*-i+s,f=3*(e-r)+1,d=3*(i-s)+1,p=6*t,v=this.curves;v[p]=e*(3*.1)+u*a+f*o,v[p+1]=i*(3*.1)+c*a+d*o,v[p+2]=u*h+f*l,v[p+3]=c*h+d*l,v[p+4]=f*l,v[p+5]=d*l},getCurvePercent:function(t,e){e=0>e?0:e>1?1:e;var i=6*t,r=this.curves,s=r[i];if(!s)return e;if(-1==s)return 0;for(var n=r[i+1],o=r[i+2],a=r[i+3],h=r[i+4],l=r[i+5],u=s,c=n,f=8;;){if(u>=e){var d=u-s,p=c-n;return p+(c-p)*(e-d)/(u-d)}if(!f)break;f--,s+=o,n+=a,o+=h,a+=l,u+=s,c+=n}return c+(1-c)*(e-u)/(1-u)}},r.RotateTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=2*t},r.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,i){t*=2,this.frames[t]=e,this.frames[t+1]=i},apply:function(t,e,i){var s,n=this.frames;if(!(e<n[0])){var o=t.bones[this.boneIndex];if(e>=n[n.length-2]){for(s=o.data.rotation+n[n.length-1]-o.rotation;s>180;)s-=360;for(;-180>s;)s+=360;return void(o.rotation+=s*i)}var a=r.binarySearch(n,e,2),h=n[a-1],l=n[a],u=1-(e-l)/(n[a-2]-l);for(u=this.curves.getCurvePercent(a/2-1,u),s=n[a+1]-h;s>180;)s-=360;for(;-180>s;)s+=360;for(s=o.data.rotation+(h+s*u)-o.rotation;s>180;)s-=360;for(;-180>s;)s+=360;o.rotation+=s*i}}},r.TranslateTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=3*t},r.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,r){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r},apply:function(t,e,i){var s=this.frames;if(!(e<s[0])){var n=t.bones[this.boneIndex];if(e>=s[s.length-3])return n.x+=(n.data.x+s[s.length-2]-n.x)*i,void(n.y+=(n.data.y+s[s.length-1]-n.y)*i);var o=r.binarySearch(s,e,3),a=s[o-2],h=s[o-1],l=s[o],u=1-(e-l)/(s[o+-3]-l);u=this.curves.getCurvePercent(o/3-1,u),n.x+=(n.data.x+a+(s[o+1]-a)*u-n.x)*i,n.y+=(n.data.y+h+(s[o+2]-h)*u-n.y)*i}}},r.ScaleTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=3*t},r.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,r){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r},apply:function(t,e,i){var s=this.frames;if(!(e<s[0])){var n=t.bones[this.boneIndex];if(e>=s[s.length-3])return n.scaleX+=(n.data.scaleX-1+s[s.length-2]-n.scaleX)*i,void(n.scaleY+=(n.data.scaleY-1+s[s.length-1]-n.scaleY)*i);var o=r.binarySearch(s,e,3),a=s[o-2],h=s[o-1],l=s[o],u=1-(e-l)/(s[o+-3]-l);u=this.curves.getCurvePercent(o/3-1,u),n.scaleX+=(n.data.scaleX-1+a+(s[o+1]-a)*u-n.scaleX)*i,n.scaleY+=(n.data.scaleY-1+h+(s[o+2]-h)*u-n.scaleY)*i}}},r.ColorTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=5*t},r.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,i,r,s,n){t*=5,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=r,this.frames[t+3]=s,this.frames[t+4]=n},apply:function(t,e,i){var s=this.frames;if(!(e<s[0])){var n=t.slots[this.slotIndex];if(e>=s[s.length-5]){var o=s.length-1;return n.r=s[o-3],n.g=s[o-2],n.b=s[o-1],void(n.a=s[o])}var a=r.binarySearch(s,e,5),h=s[a-4],l=s[a-3],u=s[a-2],c=s[a-1],f=s[a],d=1-(e-f)/(s[a-5]-f);d=this.curves.getCurvePercent(a/5-1,d);var p=h+(s[a+1]-h)*d,v=l+(s[a+2]-l)*d,m=u+(s[a+3]-u)*d,g=c+(s[a+4]-c)*d;1>i?(n.r+=(p-n.r)*i,n.g+=(v-n.g)*i,n.b+=(m-n.b)*i,n.a+=(g-n.a)*i):(n.r=p,n.g=v,n.b=m,n.a=g)}}},r.AttachmentTimeline=function(t){this.curves=new r.Curves(t),this.frames=[],this.frames.length=t,this.attachmentNames=[],this.attachmentNames.length=t},r.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i},apply:function(t,e,i){var s=this.frames;if(!(e<s[0])){var n;n=e>=s[s.length-1]?s.length-1:r.binarySearch(s,e,1)-1;var o=this.attachmentNames[n];t.slots[this.slotIndex].setAttachment(o?t.getAttachmentBySlotIndex(this.slotIndex,o):null)}}},r.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.animations=[]},r.SkeletonData.prototype={defaultSkin:null,findBone:function(t){for(var e=this.bones,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null},findBoneIndex:function(t){for(var e=this.bones,i=0,r=e.length;r>i;i++)if(e[i].name==t)return i;return-1},findSlot:function(t){for(var e=this.slots,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null},findSlotIndex:function(t){for(var e=this.slots,i=0,r=e.length;r>i;i++)if(e[i].name==t)return i;return-1},findSkin:function(t){for(var e=this.skins,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null},findAnimation:function(t){for(var e=this.animations,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null}},r.Skeleton=function(t){this.data=t,this.bones=[];for(var e=0,i=t.bones.length;i>e;e++){var s=t.bones[e],n=s.parent?this.bones[t.bones.indexOf(s.parent)]:null;this.bones.push(new r.Bone(s,n))}for(this.slots=[],this.drawOrder=[],e=0,i=t.slots.length;i>e;e++){var o=t.slots[e],a=this.bones[t.bones.indexOf(o.boneData)],h=new r.Slot(o,this,a);this.slots.push(h),this.drawOrder.push(h)}},r.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateWorldTransform:function(){for(var t=this.flipX,e=this.flipY,i=this.bones,r=0,s=i.length;s>r;r++)i[r].updateWorldTransform(t,e)},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var t=this.bones,e=0,i=t.length;i>e;e++)t[e].setToSetupPose()},setSlotsToSetupPose:function(){for(var t=this.slots,e=0,i=t.length;i>e;e++)t[e].setToSetupPose(e)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(t){for(var e=this.bones,i=0,r=e.length;r>i;i++)if(e[i].data.name==t)return e[i];return null},findBoneIndex:function(t){for(var e=this.bones,i=0,r=e.length;r>i;i++)if(e[i].data.name==t)return i;return-1},findSlot:function(t){for(var e=this.slots,i=0,r=e.length;r>i;i++)if(e[i].data.name==t)return e[i];return null},findSlotIndex:function(t){for(var e=this.slots,i=0,r=e.length;r>i;i++)if(e[i].data.name==t)return i;return-1},setSkinByName:function(t){var e=this.data.findSkin(t);if(!e)throw\"Skin not found: \"+t;this.setSkin(e)},setSkin:function(t){this.skin&&t&&t._attachAll(this,this.skin),this.skin=t},getAttachmentBySlotName:function(t,e){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(t),e)},getAttachmentBySlotIndex:function(t,e){if(this.skin){var i=this.skin.getAttachment(t,e);if(i)return i}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},setAttachment:function(t,e){for(var i=this.slots,r=0,s=i.size;s>r;r++){var n=i[r];if(n.data.name==t){var o=null;if(e&&null==(o=this.getAttachment(r,e)))throw\"Attachment not found: \"+e+\", for slot: \"+t;return void n.setAttachment(o)}}throw\"Slot not found: \"+t},update:function(t){this.time+=t}},r.AttachmentType={region:0},r.RegionAttachment=function(){this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},r.RegionAttachment.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(t,e,i,r,s){var n=this.uvs;s?(n[2]=t,n[3]=r,n[4]=t,n[5]=e,n[6]=i,n[7]=e,n[0]=i,n[1]=r):(n[0]=t,n[1]=r,n[2]=t,n[3]=e,n[4]=i,n[5]=e,n[6]=i,n[7]=r)},updateOffset:function(){var t=this.width/this.regionOriginalWidth*this.scaleX,e=this.height/this.regionOriginalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.regionOffsetX*t,r=-this.height/2*this.scaleY+this.regionOffsetY*e,s=i+this.regionWidth*t,n=r+this.regionHeight*e,o=this.rotation*Math.PI/180,a=Math.cos(o),h=Math.sin(o),l=i*a+this.x,u=i*h,c=r*a+this.y,f=r*h,d=s*a+this.x,p=s*h,v=n*a+this.y,m=n*h,g=this.offset;g[0]=l-f,g[1]=c+u,g[2]=l-m,g[3]=v+u,g[4]=d-m,g[5]=v+p,g[6]=d-f,g[7]=c+p},computeVertices:function(t,e,i,r){t+=i.worldX,e+=i.worldY;var s=i.m00,n=i.m01,o=i.m10,a=i.m11,h=this.offset;r[0]=h[0]*s+h[1]*n+t,r[1]=h[0]*o+h[1]*a+e,r[2]=h[2]*s+h[3]*n+t,r[3]=h[2]*o+h[3]*a+e,r[4]=h[4]*s+h[5]*n+t,r[5]=h[4]*o+h[5]*a+e,r[6]=h[6]*s+h[7]*n+t,r[7]=h[6]*o+h[7]*a+e}},r.AnimationStateData=function(t){this.skeletonData=t,this.animationToMixTime={}},r.AnimationStateData.prototype={defaultMix:0,setMixByName:function(t,e,i){var r=this.skeletonData.findAnimation(t);if(!r)throw\"Animation not found: \"+t;var s=this.skeletonData.findAnimation(e);if(!s)throw\"Animation not found: \"+e;this.setMix(r,s,i)},setMix:function(t,e,i){this.animationToMixTime[t.name+\":\"+e.name]=i},getMix:function(t,e){var i=this.animationToMixTime[t.name+\":\"+e.name];return i||this.defaultMix}},r.AnimationState=function(t){this.data=t,this.queue=[]},r.AnimationState.prototype={current:null,previous:null,currentTime:0,previousTime:0,currentLoop:!1,previousLoop:!1,mixTime:0,mixDuration:0,update:function(t){if(this.currentTime+=t,this.previousTime+=t,this.mixTime+=t,this.queue.length>0){var e=this.queue[0];this.currentTime>=e.delay&&(this._setAnimation(e.animation,e.loop),this.queue.shift())}},apply:function(t){if(this.current)if(this.previous){this.previous.apply(t,this.previousTime,this.previousLoop);var e=this.mixTime/this.mixDuration;e>=1&&(e=1,this.previous=null),this.current.mix(t,this.currentTime,this.currentLoop,e)}else this.current.apply(t,this.currentTime,this.currentLoop)},clearAnimation:function(){this.previous=null,this.current=null,this.queue.length=0},_setAnimation:function(t,e){this.previous=null,t&&this.current&&(this.mixDuration=this.data.getMix(this.current,t),this.mixDuration>0&&(this.mixTime=0,this.previous=this.current,this.previousTime=this.currentTime,this.previousLoop=this.currentLoop)),this.current=t,this.currentLoop=e,this.currentTime=0},setAnimationByName:function(t,e){var i=this.data.skeletonData.findAnimation(t);if(!i)throw\"Animation not found: \"+t;this.setAnimation(i,e)},setAnimation:function(t,e){this.queue.length=0,this._setAnimation(t,e)},addAnimationByName:function(t,e,i){var r=this.data.skeletonData.findAnimation(t);if(!r)throw\"Animation not found: \"+t;this.addAnimation(r,e,i)},addAnimation:function(t,e,i){var r={};if(r.animation=t,r.loop=e,!i||0>=i){var s=this.queue.length?this.queue[this.queue.length-1].animation:this.current;i=null!=s?s.duration-this.data.getMix(s,t)+(i||0):0}r.delay=i,this.queue.push(r)},isComplete:function(){return!this.current||this.currentTime>=this.current.duration}},r.SkeletonJson=function(t){this.attachmentLoader=t},r.SkeletonJson.prototype={scale:1,readSkeletonData:function(t){for(var e,i=new r.SkeletonData,s=t.bones,n=0,o=s.length;o>n;n++){var a=s[n],h=null;if(a.parent&&!(h=i.findBone(a.parent)))throw\"Parent bone not found: \"+a.parent;(e=new r.BoneData(a.name,h)).length=(a.length||0)*this.scale,e.x=(a.x||0)*this.scale,e.y=(a.y||0)*this.scale,e.rotation=a.rotation||0,e.scaleX=a.scaleX||1,e.scaleY=a.scaleY||1,i.bones.push(e)}var l=t.slots;for(n=0,o=l.length;o>n;n++){var u=l[n];if(!(e=i.findBone(u.bone)))throw\"Slot bone not found: \"+u.bone;var c=new r.SlotData(u.name,e),f=u.color;f&&(c.r=r.SkeletonJson.toColor(f,0),c.g=r.SkeletonJson.toColor(f,1),c.b=r.SkeletonJson.toColor(f,2),c.a=r.SkeletonJson.toColor(f,3)),c.attachmentName=u.attachment,i.slots.push(c)}var d=t.skins;for(var p in d)if(d.hasOwnProperty(p)){var v=d[p],m=new r.Skin(p);for(var g in v)if(v.hasOwnProperty(g)){var x=i.findSlotIndex(g),b=v[g];for(var y in b)if(b.hasOwnProperty(y)){var T=this.readAttachment(m,y,b[y]);null!=T&&m.addAttachment(x,y,T)}}i.skins.push(m),\"default\"==m.name&&(i.defaultSkin=m)}var _=t.animations;for(var A in _)_.hasOwnProperty(A)&&this.readAnimation(A,_[A],i);return i},readAttachment:function(t,e,i){e=i.name||e;var s=r.AttachmentType[i.type||\"region\"];if(s==r.AttachmentType.region){var n=new r.RegionAttachment;return n.x=(i.x||0)*this.scale,n.y=(i.y||0)*this.scale,n.scaleX=i.scaleX||1,n.scaleY=i.scaleY||1,n.rotation=i.rotation||0,n.width=(i.width||32)*this.scale,n.height=(i.height||32)*this.scale,n.updateOffset(),n.rendererObject={},n.rendererObject.name=e,n.rendererObject.scale={},n.rendererObject.scale.x=n.scaleX,n.rendererObject.scale.y=n.scaleY,n.rendererObject.rotation=-n.rotation*Math.PI/180,n}throw\"Unknown attachment type: \"+s},readAnimation:function(t,e,i){var s,n,o,a,h,l,u,c=[],f=0,d=e.bones;for(var p in d)if(d.hasOwnProperty(p)){var v=i.findBoneIndex(p);if(-1==v)throw\"Bone not found: \"+p;var m=d[p];for(o in m)if(m.hasOwnProperty(o))if(h=m[o],\"rotate\"==o){for((n=new r.RotateTimeline(h.length)).boneIndex=v,s=0,l=0,u=h.length;u>l;l++)a=h[l],n.setFrame(s,a.time,a.angle),r.SkeletonJson.readCurve(n,s,a),s++;c.push(n),f=Math.max(f,n.frames[2*n.getFrameCount()-2])}else{if(\"translate\"!=o&&\"scale\"!=o)throw\"Invalid timeline type for a bone: \"+o+\" (\"+p+\")\";var g=1;for(\"scale\"==o?n=new r.ScaleTimeline(h.length):(n=new r.TranslateTimeline(h.length),g=this.scale),n.boneIndex=v,s=0,l=0,u=h.length;u>l;l++){var x=((a=h[l]).x||0)*g,b=(a.y||0)*g;n.setFrame(s,a.time,x,b),r.SkeletonJson.readCurve(n,s,a),s++}c.push(n),f=Math.max(f,n.frames[3*n.getFrameCount()-3])}}var y=e.slots;for(var T in y)if(y.hasOwnProperty(T)){var _=y[T],A=i.findSlotIndex(T);for(o in _)if(_.hasOwnProperty(o))if(h=_[o],\"color\"==o){for((n=new r.ColorTimeline(h.length)).slotIndex=A,s=0,l=0,u=h.length;u>l;l++){var w=(a=h[l]).color,E=r.SkeletonJson.toColor(w,0),C=r.SkeletonJson.toColor(w,1),S=r.SkeletonJson.toColor(w,2),R=r.SkeletonJson.toColor(w,3);n.setFrame(s,a.time,E,C,S,R),r.SkeletonJson.readCurve(n,s,a),s++}c.push(n),f=Math.max(f,n.frames[5*n.getFrameCount()-5])}else{if(\"attachment\"!=o)throw\"Invalid timeline type for a slot: \"+o+\" (\"+T+\")\";for((n=new r.AttachmentTimeline(h.length)).slotIndex=A,s=0,l=0,u=h.length;u>l;l++)a=h[l],n.setFrame(s++,a.time,a.name);c.push(n),f=Math.max(f,n.frames[n.getFrameCount()-1])}}i.animations.push(new r.Animation(t,c,f))}},r.SkeletonJson.readCurve=function(t,e,i){var r=i.curve;r&&(\"stepped\"==r?t.curves.setStepped(e):r instanceof Array&&t.curves.setCurve(e,r[0],r[1],r[2],r[3]))},r.SkeletonJson.toColor=function(t,e){if(8!=t.length)throw\"Color hexidecimal length must be 8, recieved: \"+t;return parseInt(t.substring(2*e,2),16)/255},r.Atlas=function(t,e){this.textureLoader=e,this.pages=[],this.regions=[];var i=new r.AtlasReader(t),s=[];s.length=4;for(var n=null;;){var o=i.readLine();if(null==o)break;if((o=i.trim(o)).length)if(n){var a=new r.AtlasRegion;a.name=o,a.page=n,a.rotate=\"true\"==i.readValue(),i.readTuple(s);var h=parseInt(s[0],10),l=parseInt(s[1],10);i.readTuple(s);var u=parseInt(s[0],10),c=parseInt(s[1],10);a.u=h/n.width,a.v=l/n.height,a.rotate?(a.u2=(h+c)/n.width,a.v2=(l+u)/n.height):(a.u2=(h+u)/n.width,a.v2=(l+c)/n.height),a.x=h,a.y=l,a.width=Math.abs(u),a.height=Math.abs(c),4==i.readTuple(s)&&(a.splits=[parseInt(s[0],10),parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10)],4==i.readTuple(s)&&(a.pads=[parseInt(s[0],10),parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10)],i.readTuple(s))),a.originalWidth=parseInt(s[0],10),a.originalHeight=parseInt(s[1],10),i.readTuple(s),a.offsetX=parseInt(s[0],10),a.offsetY=parseInt(s[1],10),a.index=parseInt(i.readValue(),10),this.regions.push(a)}else{(n=new r.AtlasPage).name=o,n.format=r.Atlas.Format[i.readValue()],i.readTuple(s),n.minFilter=r.Atlas.TextureFilter[s[0]],n.magFilter=r.Atlas.TextureFilter[s[1]];var f=i.readValue();n.uWrap=r.Atlas.TextureWrap.clampToEdge,n.vWrap=r.Atlas.TextureWrap.clampToEdge,\"x\"==f?n.uWrap=r.Atlas.TextureWrap.repeat:\"y\"==f?n.vWrap=r.Atlas.TextureWrap.repeat:\"xy\"==f&&(n.uWrap=n.vWrap=r.Atlas.TextureWrap.repeat),e.load(n,o),this.pages.push(n)}else n=null}},r.Atlas.prototype={findRegion:function(t){for(var e=this.regions,i=0,r=e.length;r>i;i++)if(e[i].name==t)return e[i];return null},dispose:function(){for(var t=this.pages,e=0,i=t.length;i>e;e++)this.textureLoader.unload(t[e].rendererObject)},updateUVs:function(t){for(var e=this.regions,i=0,r=e.length;r>i;i++){var s=e[i];s.page==t&&(s.u=s.x/t.width,s.v=s.y/t.height,s.rotate?(s.u2=(s.x+s.height)/t.width,s.v2=(s.y+s.width)/t.height):(s.u2=(s.x+s.width)/t.width,s.v2=(s.y+s.height)/t.height))}}},r.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},r.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},r.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},r.AtlasPage=function(){},r.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},r.AtlasRegion=function(){},r.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},r.AtlasReader=function(t){this.lines=t.split(/\\r\\n|\\r|\\n/)},r.AtlasReader.prototype={index:0,trim:function(t){return t.replace(/^\\s+|\\s+$/g,\"\")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var t=this.readLine(),e=t.indexOf(\":\");if(-1==e)throw\"Invalid line: \"+t;return this.trim(t.substring(e+1))},readTuple:function(t){var e=this.readLine(),i=e.indexOf(\":\");if(-1==i)throw\"Invalid line: \"+e;for(var r=0,s=i+1;3>r;r++){var n=e.indexOf(\",\",s);if(-1==n){if(!r)throw\"Invalid line: \"+e;break}t[r]=this.trim(e.substr(s,n-s)),s=n+1}return t[r]=this.trim(e.substring(s)),r+1}},r.AtlasAttachmentLoader=function(t){this.atlas=t},r.AtlasAttachmentLoader.prototype={newAttachment:function(t,e,i){switch(e){case r.AttachmentType.region:var s=this.atlas.findRegion(i);if(!s)throw\"Region not found in atlas: \"+i+\" (\"+e+\")\";var n=new r.RegionAttachment(i);return n.rendererObject=s,n.setUVs(s.u,s.v,s.u2,s.v2,s.rotate),n.regionOffsetX=s.offsetX,n.regionOffsetY=s.offsetY,n.regionWidth=s.width,n.regionHeight=s.height,n.regionOriginalWidth=s.originalWidth,n.regionOriginalHeight=s.originalHeight,n}throw\"Unknown attachment type: \"+e}},r.Bone.yDown=!0},function(t,e,i){\"use strict\";function r(t,e){o.call(this),this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\\/]*$/,\"\"),this.loaded=!1}var s=i(13),n=i(17),o=i(5),a=i(4),h=i(25),l=i(26).SkeletonJson,u=i(2),c=r.prototype;c.handleEvent=function(t){switch(t.type){case\"load\":this.onJSONLoaded();break;default:this.onError()}},c.load=function(){this.request=u.createRequest(),this.request.addEventListener(\"load\",this),this.request.addEventListener(\"error\",this),this.request.open(\"GET\",this.url,!0),this.request.overrideMimeType&&this.request.overrideMimeType(\"application/json\"),this.request.send(null)},c.onJSONLoaded=function(){if(this.json=JSON.parse(this.request.responseText),this.json.frames){var t=this,e=this.baseUrl+this.json.meta.image,i=new n(e,this.crossorigin),r=this.json.frames;for(var s in this.texture=i.texture.baseTexture,i.addEventListener(\"loaded\",function(){t.onLoaded()}),r){var o=r[s].frame;o&&(a.cache[s]=new a(this.texture,{x:o.x,y:o.y,width:o.w,height:o.h}),r[s].trimmed&&(a.cache[s].realSize=r[s].spriteSourceSize,a.cache[s].trim.x=0))}i.load()}else if(this.json.bones){var u=(new l).readSkeletonData(this.json);h.animCache[this.url]=u,this.onLoaded()}else this.onLoaded()},c.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:\"loaded\",content:this})},c.onError=function(){this.dispatchEvent({type:\"error\",content:this})},s.registerLoaderType(\"json\",r),t.exports=r},function(t,e,i){\"use strict\";function r(){this.program=null,this.fragmentSrc=[\"precision lowp float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform sampler2D uSampler;\",\"void main(void) {\",\"   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;\",\"}\"],this.textureCount=0}var s=i(18),n=i(0),o=r.prototype;o.init=function(){var t=n.gl,e=s.program(t,this.vertexSrc||r.defaultVertexSrc,this.fragmentSrc);for(var i in t.useProgram(e),this.uSampler=t.getUniformLocation(e,\"uSampler\"),this.projectionVector=t.getUniformLocation(e,\"projectionVector\"),this.offsetVector=t.getUniformLocation(e,\"offsetVector\"),this.dimensions=t.getUniformLocation(e,\"dimensions\"),this.aVertexPosition=t.getAttribLocation(e,\"aVertexPosition\"),this.colorAttribute=t.getAttribLocation(e,\"aColor\"),this.aTextureCoord=t.getAttribLocation(e,\"aTextureCoord\"),this.uniforms)this.uniforms[i].uniformLocation=t.getUniformLocation(e,i);this.initUniforms(),this.program=e},o.initUniforms=function(){var t;for(var e in this.textureCount=1,this.uniforms){var i=(t=this.uniforms[e]).type;\"sampler2D\"===i?(t._init=!1,null!==t.value&&this.initSampler2D(t)):\"mat2\"===i||\"mat3\"===i||\"mat4\"===i?(t.glMatrix=!0,t.glValueLength=1,\"mat2\"===i?t.glFunc=n.gl.uniformMatrix2fv:\"mat3\"===i?t.glFunc=n.gl.uniformMatrix3fv:\"mat4\"===i&&(t.glFunc=n.gl.uniformMatrix4fv)):(t.glFunc=n.gl[\"uniform\"+i],t.glValueLength=\"2f\"===i||\"2i\"===i?2:\"3f\"===i||\"3i\"===i?3:\"4f\"===i||\"4i\"===i?4:1)}},o.initSampler2D=function(t){if(t.value&&t.value.baseTexture&&t.value.baseTexture.hasLoaded){if(n.gl.activeTexture(n.gl[\"TEXTURE\"+this.textureCount]),n.gl.bindTexture(n.gl.TEXTURE_2D,t.value.baseTexture._glTexture),t.textureData){var e=t.textureData,i=e.magFilter?e.magFilter:n.gl.LINEAR,r=e.minFilter?e.minFilter:n.gl.LINEAR,s=e.wrapS?e.wrapS:n.gl.CLAMP_TO_EDGE,o=e.wrapT?e.wrapT:n.gl.CLAMP_TO_EDGE,a=e.luminance?n.gl.LUMINANCE:n.gl.RGBA;if(e.repeat&&(s=n.gl.REPEAT,o=n.gl.REPEAT),n.gl.pixelStorei(n.gl.UNPACK_FLIP_Y_WEBGL,!1),e.width){var h=e.width?e.width:512,l=e.height?e.height:2,u=e.border?e.border:0;n.gl.texImage2D(n.gl.TEXTURE_2D,0,a,h,l,u,a,n.gl.UNSIGNED_BYTE,null)}else n.gl.texImage2D(n.gl.TEXTURE_2D,0,a,n.gl.RGBA,n.gl.UNSIGNED_BYTE,t.value.baseTexture.source);n.gl.texParameteri(n.gl.TEXTURE_2D,n.gl.TEXTURE_MAG_FILTER,i),n.gl.texParameteri(n.gl.TEXTURE_2D,n.gl.TEXTURE_MIN_FILTER,r),n.gl.texParameteri(n.gl.TEXTURE_2D,n.gl.TEXTURE_WRAP_S,s),n.gl.texParameteri(n.gl.TEXTURE_2D,n.gl.TEXTURE_WRAP_T,o)}n.gl.uniform1i(t.uniformLocation,this.textureCount),t._init=!0,this.textureCount++}},o.syncUniforms=function(){var t;for(var e in this.textureCount=1,this.uniforms)1===(t=this.uniforms[e]).glValueLength?!0===t.glMatrix?t.glFunc.call(n.gl,t.uniformLocation,t.transpose,t.value):t.glFunc.call(n.gl,t.uniformLocation,t.value):2===t.glValueLength?t.glFunc.call(n.gl,t.uniformLocation,t.value.x,t.value.y):3===t.glValueLength?t.glFunc.call(n.gl,t.uniformLocation,t.value.x,t.value.y,t.value.z):4===t.glValueLength?t.glFunc.call(n.gl,t.uniformLocation,t.value.x,t.value.y,t.value.z,t.value.w):\"sampler2D\"===t.type&&(t._init?(n.gl.activeTexture(n.gl[\"TEXTURE\"+this.textureCount]),n.gl.bindTexture(n.gl.TEXTURE_2D,t.value.baseTexture._glTexture),n.gl.uniform1i(t.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(t))},r.defaultVertexSrc=[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"attribute float aColor;\",\"uniform vec2 projectionVector;\",\"uniform vec2 offsetVector;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"const vec2 center = vec2(-1.0, 1.0);\",\"void main(void) {\",\"   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);\",\"   vTextureCoord = aTextureCoord;\",\"   vColor = aColor;\",\"}\"],t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={blur:{type:\"1f\",value:1/512}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform float blur;\",\"uniform sampler2D uSampler;\",\"void main(void) {\",\"   vec4 sum = vec4(0.0);\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;\",\"   gl_FragColor = sum;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"blur\",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.dirty=!0,this.uniforms.blur.value=1/7e3*t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={blur:{type:\"1f\",value:1/512}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform float blur;\",\"uniform sampler2D uSampler;\",\"void main(void) {\",\"   vec4 sum = vec4(0.0);\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;\",\"   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;\",\"   gl_FragColor = sum;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"blur\",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),t.exports=r},function(t,e,i){\"use strict\";function r(t,e){s.call(this),this.setText(t),this.setStyle(e),this.updateText(),this.dirty=!1}var s=i(6),n=i(7),o=i(3),a=r.prototype=Object.create(s.prototype,{constructor:{value:r}});a.setText=function(t){this.text=t||\" \",this.dirty=!0},a.setStyle=function(t){(t=t||{}).align=t.align||\"left\",this.style=t;var e=t.font.split(\" \");this.fontName=e[e.length-1],this.fontSize=e.length>=2?parseInt(e[e.length-2],10):r.fonts[this.fontName].size,this.dirty=!0},a.updateText=function(){for(var t=r.fonts[this.fontName],e=new o,i=null,s=[],a=0,h=[],l=0,u=this.fontSize/t.size,c=0;c<this.text.length;c++){var f=this.text.charCodeAt(c);if(/(?:\\r\\n|\\r|\\n)/.test(this.text.charAt(c)))h.push(e.x),a=Math.max(a,e.x),l++,e.x=0,e.y+=t.lineHeight,i=null;else{var d=t.chars[f];d&&(i&&d[i]&&(e.x+=d.kerning[i]),s.push({texture:d.texture,line:l,charCode:f,position:new o(e.x+d.xOffset,e.y+d.yOffset)}),e.x+=d.xAdvance,i=f)}}h.push(e.x),a=Math.max(a,e.x);var p=[];for(c=0;l>=c;c++){var v=0;\"right\"===this.style.align?v=a-h[c]:\"center\"===this.style.align&&(v=(a-h[c])/2),p.push(v)}for(c=0;c<s.length;c++){var m=new n(s[c].texture);m.position.x=(s[c].position.x+p[s[c].line])*u,m.position.y=s[c].position.y*u,m.scale.x=m.scale.y=u,this.addChild(m)}this.width=a*u,this.height=(e.y+t.lineHeight)*u},a.updateTransform=function(){if(this.dirty){for(;this.children.length>0;)this.removeChild(this.getChildAt(0));this.updateText(),this.dirty=!1}s.prototype.updateTransform.call(this)},r.fonts={},t.exports=r},function(t,e,i){\"use strict\";function r(){this.global=new o,this.local=new o,this.target=null,this.originalEvent=null}function s(t){this.stage=t,this.mouse=new r,this.touchs={},this.tempPoint=new o,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.last=0}var n=i(0),o=i(3),a=i(7),h=i(2);r.prototype.getLocalPosition=function(t){var e=t.worldTransform,i=this.global,r=e[0],s=e[1],n=e[2],a=e[3],h=e[4],l=e[5],u=1/(r*h+s*-a);return new o(h*u*i.x+-s*u*i.y+(l*s-n*h)*u,r*u*i.y+-a*u*i.x+(-l*r+n*a)*u)};var l=s.prototype;l.handleEvent=function(t){switch(t.type){case\"mousedown\":this.onMouseDown(t);break;case\"mousemove\":this.onMouseMove(t);break;case\"mouseup\":this.onMouseUp(t);break;case\"mouseout\":this.onMouseOut(t);break;case\"touchstart\":this.onTouchStart(t);break;case\"touchmove\":this.onTouchMove(t);break;case\"touchend\":this.onTouchEnd(t)}},l.collectInteractiveSprite=function(t,e){for(var i=t.children,r=i.length-1;r>=0;r--){var s=i[r];s.interactive?(e.interactiveChildren=!0,this.interactiveItems.push(s),s.children.length>0&&this.collectInteractiveSprite(s,s)):(s.__iParent=null,s.children.length>0&&this.collectInteractiveSprite(s,e))}},l.setTarget=function(t){t?null===this.interactionDOMElement&&this.setTargetDomElement(t.view):null!==this.target&&h.window.removeEventListener(\"mouseup\",this,!0),h.window.addEventListener(\"mouseup\",this,!0),this.target=t},l.setTargetDomElement=function(t){null!==this.interactionDOMElement&&(this.interactionDOMElement.style[\"-ms-content-zooming\"]=\"\",this.interactionDOMElement.style[\"-ms-touch-action\"]=\"\",this.interactionDOMElement.removeEventListener(\"mousemove\",this,!0),this.interactionDOMElement.removeEventListener(\"mousedown\",this,!0),this.interactionDOMElement.removeEventListener(\"mouseout\",this,!0),this.interactionDOMElement.removeEventListener(\"touchstart\",this,!0),this.interactionDOMElement.removeEventListener(\"touchend\",this,!0),this.interactionDOMElement.removeEventListener(\"touchmove\",this,!0));var e=h.navigator;e&&e.msPointerEnabled&&(t.style[\"-ms-content-zooming\"]=\"none\",t.style[\"-ms-touch-action\"]=\"none\"),t.addEventListener(\"mousemove\",this,!0),t.addEventListener(\"mousedown\",this,!0),t.addEventListener(\"mouseout\",this,!0),t.addEventListener(\"touchstart\",this,!0),t.addEventListener(\"touchend\",this,!0),t.addEventListener(\"touchmove\",this,!0),this.interactionDOMElement=t},l.update=function(){if(this.target){var t=Date.now(),e=t-this.last;if(!(1>(e=30*e/1e3))){var i,r;if(this.last=t,this.dirty){for(this.dirty=!1,i=0,r=this.interactiveItems.length;r>i;i++)this.interactiveItems[i].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)}for(this.interactionDOMElement.style.cursor=\"inherit\",i=0,r=this.interactiveItems.length;r>i;i++){var s=this.interactiveItems[i];(s.mouseover||s.mouseout||s.buttonMode)&&(s.__hit=this.hitTest(s,this.mouse),this.mouse.target=s,s.__hit?(s.buttonMode&&(this.interactionDOMElement.style.cursor=s.defaultCursor),s.__isOver||(s.mouseover&&s.mouseover(this.mouse),s.__isOver=!0)):s.__isOver&&(s.mouseout&&s.mouseout(this.mouse),s.__isOver=!1))}}}},l.onMouseMove=function(t){this.mouse.originalEvent=t;var e=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=(t.clientX-e.left)*(this.target.width/e.width),this.mouse.global.y=(t.clientY-e.top)*(this.target.height/e.height);for(var i=0,r=this.interactiveItems.length;r>i;i++){var s=this.interactiveItems[i];s.mousemove&&s.mousemove(this.mouse)}},l.onMouseDown=function(t){this.mouse.originalEvent=t;for(var e=0,i=this.interactiveItems.length;i>e;e++){var r=this.interactiveItems[e];if((r.mousedown||r.click)&&(r.__mouseIsDown=!0,r.__hit=this.hitTest(r,this.mouse),r.__hit&&(r.mousedown&&r.mousedown(this.mouse),r.__isDown=!0,!r.interactiveChildren)))break}},l.onMouseOut=function(){this.interactionDOMElement.style.cursor=\"inherit\";for(var t=0,e=this.interactiveItems.length;e>t;t++){var i=this.interactiveItems[t];i.__isOver&&(this.mouse.target=i,i.mouseout&&i.mouseout(this.mouse),i.__isOver=!1)}},l.onMouseUp=function(t){this.mouse.originalEvent=t;for(var e=!1,i=0,r=this.interactiveItems.length;r>i;i++){var s=this.interactiveItems[i];(s.mouseup||s.mouseupoutside||s.click)&&(s.__hit=this.hitTest(s,this.mouse),s.__hit&&!e?(s.mouseup&&s.mouseup(this.mouse),s.__isDown&&s.click&&s.click(this.mouse),s.interactiveChildren||(e=!0)):s.__isDown&&s.mouseupoutside&&s.mouseupoutside(this.mouse),s.__isDown=!1)}},l.hitTest=function(t,e){var i=e.global;if(t.vcount!==n.visibleCount)return!1;var r=t instanceof a,s=t.worldTransform,o=s[0],h=s[1],l=s[2],u=s[3],c=s[4],f=s[5],d=1/(o*c+h*-u),p=c*d*i.x+-h*d*i.y+(f*h-l*c)*d,v=o*d*i.y+-u*d*i.x+(-f*o+l*u)*d;if(e.target=t,t.hitArea&&t.hitArea.contains)return!!t.hitArea.contains(p,v)&&(e.target=t,!0);if(r){var m,g=t.texture.frame.width,x=t.texture.frame.height,b=-g*t.anchor.x;if(p>b&&b+g>p&&(v>(m=-x*t.anchor.y)&&m+x>v))return e.target=t,!0}for(var y=0,T=t.children.length;T>y;y++){var _=t.children[y];if(this.hitTest(_,e))return e.target=t,!0}return!1},l.onTouchMove=function(t){var e,i,r,s,n,o,a,h=this.interactionDOMElement.getBoundingClientRect(),l=t.changedTouches;for(e=0,i=l.length;i>e;e++)for(r=l[e],(s=this.touchs[r.identifier]).originalEvent=t,s.global.x=(r.clientX-h.left)*(this.target.width/h.width),s.global.y=(r.clientY-h.top)*(this.target.height/h.height),n=0,o=this.interactiveItems.length;o>n;n++)(a=this.interactiveItems[e]).touchmove&&a.touchmove(s)},l.onTouchStart=function(t){for(var e=this.interactionDOMElement.getBoundingClientRect(),i=t.changedTouches,s=0,n=i.length;n>s;s++){var o=i[s],a=this.pool.pop();a||(a=new r),a.originalEvent=t,this.touchs[o.identifier]=a,a.global.x=(o.clientX-e.left)*(this.target.width/e.width),a.global.y=(o.clientY-e.top)*(this.target.height/e.height);for(var h=0,l=this.interactiveItems.length;l>h;h++){var u=this.interactiveItems[h];if((u.touchstart||u.tap)&&(u.__hit=this.hitTest(u,a),u.__hit&&(u.touchstart&&u.touchstart(a),u.__isDown=!0,u.__touchData=a,!u.interactiveChildren)))break}}},l.onTouchEnd=function(t){for(var e=this.interactionDOMElement.getBoundingClientRect(),i=t.changedTouches,r=0,s=i.length;s>r;r++){var n=i[r],o=this.touchs[n.identifier],a=!1;o.global.x=(n.clientX-e.left)*(this.target.width/e.width),o.global.y=(n.clientY-e.top)*(this.target.height/e.height);for(var h=0,l=this.interactiveItems.length;l>h;h++){var u=this.interactiveItems[h],c=u.__touchData;u.__hit=this.hitTest(u,o),c===o&&(o.originalEvent=t,(u.touchend||u.tap)&&(u.__hit&&!a?(u.touchend&&u.touchend(o),u.__isDown&&u.tap&&u.tap(o),u.interactiveChildren||(a=!0)):u.__isDown&&u.touchendoutside&&u.touchendoutside(o),u.__isDown=!1),u.__touchData=null)}this.pool.push(o),this.touchs[n.identifier]=null}},t.exports=s},function(t,e,i){\"use strict\";e.hex2rgb=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]}},function(t,e,i){\"use strict\";var r=i(2),s=i(10);e.renderGraphics=function(t,e){for(var i,r,n,o,a=t.worldAlpha,h=0,l=t.graphicsData.length;l>h;h++)if(r=(i=t.graphicsData[h]).points,e.strokeStyle=\"#\"+(\"00000\"+(0|i.lineColor).toString(16)).substr(-6),e.lineWidth=i.lineWidth,i.type===s.POLY){for(e.beginPath(),e.moveTo(r[0],r[1]),n=1,o=r.length/2;o>n;n++)e.lineTo(r[2*n],r[2*n+1]);r[0]===r[r.length-2]&&r[1]===r[r.length-1]&&e.closePath(),i.fill&&(e.globalAlpha=i.fillAlpha*a,e.fillStyle=\"#\"+(\"00000\"+(0|i.fillColor).toString(16)).substr(-6),e.fill()),i.lineWidth&&(e.globalAlpha=i.lineAlpha*a,e.stroke())}else if(i.type===s.RECT)(i.fillColor||0===i.fillColor)&&(e.globalAlpha=i.fillAlpha*a,e.fillStyle=\"#\"+(\"00000\"+(0|i.fillColor).toString(16)).substr(-6),e.fillRect(r[0],r[1],r[2],r[3])),i.lineWidth&&(e.globalAlpha=i.lineAlpha*a,e.strokeRect(r[0],r[1],r[2],r[3]));else if(i.type===s.CIRC)e.beginPath(),e.arc(r[0],r[1],r[2],0,2*Math.PI),e.closePath(),i.fill&&(e.globalAlpha=i.fillAlpha*a,e.fillStyle=\"#\"+(\"00000\"+(0|i.fillColor).toString(16)).substr(-6),e.fill()),i.lineWidth&&(e.globalAlpha=i.lineAlpha*a,e.stroke());else if(i.type===s.ELIP){var u=i.points,c=2*u[2],f=2*u[3],d=u[0]-c/2,p=u[1]-f/2;e.beginPath();var v=.5522848,m=c/2*v,g=f/2*v,x=d+c,b=p+f,y=d+c/2,T=p+f/2;e.moveTo(d,T),e.bezierCurveTo(d,T-g,y-m,p,y,p),e.bezierCurveTo(y+m,p,x,T-g,x,T),e.bezierCurveTo(x,T+g,y+m,b,y,b),e.bezierCurveTo(y-m,b,d,T+g,d,T),e.closePath(),i.fill&&(e.globalAlpha=i.fillAlpha*a,e.fillStyle=\"#\"+(\"00000\"+(0|i.fillColor).toString(16)).substr(-6),e.fill()),i.lineWidth&&(e.globalAlpha=i.lineAlpha*a,e.stroke())}},e.renderGraphicsMask=function(t,e){var i=t.graphicsData.length;if(0!==i){i>1&&(i=1,r.console.warn(\"Pixi.js warning: masks in canvas can only mask using the first path in the graphics object\"));for(var n=0;1>n;n++){var o=t.graphicsData[n],a=o.points;if(o.type===s.POLY){e.beginPath(),e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===s.RECT)e.beginPath(),e.rect(a[0],a[1],a[2],a[3]),e.closePath();else if(o.type===s.CIRC)e.beginPath(),e.arc(a[0],a[1],a[2],0,2*Math.PI),e.closePath();else if(o.type===s.ELIP){var l=o.points,u=2*l[2],c=2*l[3],f=l[0]-u/2,d=l[1]-c/2;e.beginPath();var p=.5522848,v=u/2*p,m=c/2*p,g=f+u,x=d+c,b=f+u/2,y=d+c/2;e.moveTo(f,y),e.bezierCurveTo(f,y-m,b-v,d,b,d),e.bezierCurveTo(b+v,d,g,y-m,g,y),e.bezierCurveTo(g,y+m,b+v,x,b,x),e.bezierCurveTo(b-v,x,f,y+m,f,y),e.closePath()}}}}},function(t,e,i){\"use strict\";function r(t,e,i,r,u){var c;this.transparent=!!r,this.width=t||800,this.height=e||600,this.view=i||s.createCanvas(),this.view.width=this.width,this.view.height=this.height;var f=this;this.view.addEventListener(\"webglcontextlost\",function(t){f.handleContextLost(t)},!1),this.view.addEventListener(\"webglcontextrestored\",function(t){f.handleContextRestored(t)},!1),this.batchs=[];var d={alpha:this.transparent,antialias:!!u,premultipliedAlpha:!1,stencil:!0};try{c=this.view.getContext(\"experimental-webgl\",d)}catch(t){try{c=this.view.getContext(\"webgl\",d)}catch(t){throw new Error(\" This browser does not support webGL. Try using the canvas renderer\"+this)}}this.gl=n.gl=c,o.initDefaultShaders(),c.useProgram(n.defaultShader.program),this.batch=new a(c),c.disable(c.DEPTH_TEST),c.disable(c.CULL_FACE),c.enable(c.BLEND),c.colorMask(!0,!0,!0,this.transparent),this.projection=n.projection=new l(400,300),this.offset=n.offset=new l(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.stageRenderGroup=new h(this.gl,this.transparent)}var s=i(2),n=i(0),o=i(14),a=i(23),h=i(24),l=i(3),u=i(4),c=r.prototype;c.render=function(t){if(!this.contextLost){this.__stage!==t&&(this.__stage=t,this.stageRenderGroup.setRenderable(t));var e=this.gl;if(h.updateTextures(e),n.visibleCount++,t.updateTransform(),e.colorMask(!0,!0,!0,this.transparent),e.viewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(t.backgroundColorSplit[0],t.backgroundColorSplit[1],t.backgroundColorSplit[2],!this.transparent),e.clear(e.COLOR_BUFFER_BIT),this.stageRenderGroup.backgroundColor=t.backgroundColorSplit,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.stageRenderGroup.render(this.projection),t.interactive&&(t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this))),u.frameUpdates.length>0){for(var i=0,r=u.frameUpdates.length;r>i;i++)u.frameUpdates[i].updateFrame=!1;u.frameUpdates=[]}}},c.resize=function(t,e){this.width=t,this.height=e,this.view.width=t,this.view.height=e,this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2,this.projection.y=-this.height/2},c.handleContextLost=function(t){t.preventDefault(),this.contextLost=!0},c.handleContextRestored=function(){var t=this.gl=this.view.getContext(\"experimental-webgl\",{alpha:!0});for(var e in this.initShaders(),u.cache){var i=u.cache[e].baseTexture;i._glTexture=null,h.updateTexture(t,i)}for(var r=0,s=this.batchs.length;s>r;r++)this.batchs[r].restoreLostContext(t),this.batchs[r].dirty=!0;a.restoreBatches(t),this.contextLost=!1},t.exports=r},function(t,e,i){\"use strict\";var r=i(14),s=i(0),n=i(9).mat3,o=i(33).hex2rgb,a=i(37).triangulate,h=i(3),l=i(10);e.renderGraphics=function(t,i){var o=s.gl;t._webGL||(t._webGL={points:[],indices:[],lastIndex:0,buffer:o.createBuffer(),indexBuffer:o.createBuffer()}),t.dirty&&(t.dirty=!1,t.clearDirty&&(t.clearDirty=!1,t._webGL.lastIndex=0,t._webGL.points=[],t._webGL.indices=[]),e.updateGraphics(t)),r.activatePrimitiveShader();var a=n.clone(t.worldTransform);n.transpose(a),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.uniformMatrix3fv(s.primitiveShader.translationMatrix,!1,a),o.uniform2f(s.primitiveShader.projectionVector,i.x,-i.y),o.uniform2f(s.primitiveShader.offsetVector,-s.offset.x,-s.offset.y),o.uniform1f(s.primitiveShader.alpha,t.worldAlpha),o.bindBuffer(o.ARRAY_BUFFER,t._webGL.buffer),o.vertexAttribPointer(s.primitiveShader.aVertexPosition,2,o.FLOAT,!1,24,0),o.vertexAttribPointer(s.primitiveShader.colorAttribute,4,o.FLOAT,!1,24,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,t._webGL.indexBuffer),o.drawElements(o.TRIANGLE_STRIP,t._webGL.indices.length,o.UNSIGNED_SHORT,0),r.deactivatePrimitiveShader()},e.updateGraphics=function(t){for(var i=t._webGL.lastIndex;i<t.graphicsData.length;i++){var r=t.graphicsData[i];r.type===l.POLY?(r.fill&&r.points.length>3&&e.buildPoly(r,t._webGL),r.lineWidth>0&&e.buildLine(r,t._webGL)):r.type===l.RECT?e.buildRectangle(r,t._webGL):r.type===l.CIRC||(r.type,l.ELIP),e.buildCircle(r,t._webGL)}t._webGL.lastIndex=t.graphicsData.length;var n=s.gl;t._webGL.glPoints=new Float32Array(t._webGL.points),n.bindBuffer(n.ARRAY_BUFFER,t._webGL.buffer),n.bufferData(n.ARRAY_BUFFER,t._webGL.glPoints,n.STATIC_DRAW),t._webGL.glIndicies=new Uint16Array(t._webGL.indices),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t._webGL.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t._webGL.glIndicies,n.STATIC_DRAW)},e.buildRectangle=function(t,i){var r=t.points,s=r[0],n=r[1],a=r[2],h=r[3];if(t.fill){var l=o(t.fillColor),u=t.fillAlpha,c=l[0]*u,f=l[1]*u,d=l[2]*u,p=i.points,v=i.indices,m=p.length/6;p.push(s,n),p.push(c,f,d,u),p.push(s+a,n),p.push(c,f,d,u),p.push(s,n+h),p.push(c,f,d,u),p.push(s+a,n+h),p.push(c,f,d,u),v.push(m,m,m+1,m+2,m+3,m+3)}t.lineWidth&&(t.points=[s,n,s+a,n,s+a,n+h,s,n+h,s,n],e.buildLine(t,i))},e.buildCircle=function(t,i){var r=t.points,s=r[0],n=r[1],a=r[2],h=r[3],l=2*Math.PI/40,u=0;if(t.fill){var c=o(t.fillColor),f=t.fillAlpha,d=c[0]*f,p=c[1]*f,v=c[2]*f,m=i.points,g=i.indices,x=m.length/6;for(g.push(x),u=0;41>u;u++)m.push(s,n,d,p,v,f),m.push(s+Math.sin(l*u)*a,n+Math.cos(l*u)*h,d,p,v,f),g.push(x++,x++);g.push(x-1)}if(t.lineWidth){for(t.points=[],u=0;41>u;u++)t.points.push(s+Math.sin(l*u)*a,n+Math.cos(l*u)*h);e.buildLine(t,i)}},e.buildLine=function(t,e){var i=0,r=t.points;if(0!==r.length){if(t.lineWidth%2)for(i=0;i<r.length;i++)r[i]+=.5;var s=new h(r[0],r[1]),n=new h(r[r.length-2],r[r.length-1]);if(s.x===n.x&&s.y===n.y){r.pop(),r.pop();var a=(n=new h(r[r.length-2],r[r.length-1])).x+.5*(s.x-n.x),l=n.y+.5*(s.y-n.y);r.unshift(a,l),r.push(a,l)}var u,c,f,d,p,v,m,g,x,b,y,T,_,A,w,E,C,S,R,F,D,L,P=e.points,B=e.indices,O=r.length/2,M=r.length,U=P.length/6,I=t.lineWidth/2,N=o(t.lineColor),k=t.lineAlpha,j=N[0]*k,Y=N[1]*k,X=N[2]*k;for(f=r[0],d=r[1],p=r[2],x=-(d-(v=r[3])),b=f-p,x/=L=Math.sqrt(x*x+b*b),b/=L,x*=I,b*=I,P.push(f-x,d-b,j,Y,X,k),P.push(f+x,d+b,j,Y,X,k),i=1;O-1>i;i++)f=r[2*(i-1)],d=r[2*(i-1)+1],p=r[2*i],v=r[2*i+1],m=r[2*(i+1)],g=r[2*(i+1)+1],x=-(d-v),b=f-p,x/=L=Math.sqrt(x*x+b*b),b/=L,x*=I,b*=I,y=-(v-g),T=p-m,y/=L=Math.sqrt(y*y+T*T),T/=L,C=(-x+f)*(-b+v)-(-x+p)*(-b+d),F=(-(y*=I)+m)*(-(T*=I)+v)-(-y+p)*(-T+g),D=(w=-b+d-(-b+v))*(R=-y+p-(-y+m))-(S=-T+g-(-T+v))*(E=-x+p-(-x+f)),Math.abs(D)<.1?(D+=10.1,P.push(p-x,v-b,j,Y,X,k),P.push(p+x,v+b,j,Y,X,k)):((u=(E*F-R*C)/D)-p)*(u-p)+((c=(S*C-w*F)/D)-v)+(c-v)>19600?(_=x-y,A=b-T,_/=L=Math.sqrt(_*_+A*A),A/=L,_*=I,A*=I,P.push(p-_,v-A),P.push(j,Y,X,k),P.push(p+_,v+A),P.push(j,Y,X,k),P.push(p-_,v-A),P.push(j,Y,X,k),M++):(P.push(u,c),P.push(j,Y,X,k),P.push(p-(u-p),v-(c-v)),P.push(j,Y,X,k));for(f=r[2*(O-2)],d=r[2*(O-2)+1],p=r[2*(O-1)],x=-(d-(v=r[2*(O-1)+1])),b=f-p,x/=L=Math.sqrt(x*x+b*b),b/=L,x*=I,b*=I,P.push(p-x,v-b),P.push(j,Y,X,k),P.push(p+x,v+b),P.push(j,Y,X,k),B.push(U),i=0;M>i;i++)B.push(U++);B.push(U-1)}},e.buildPoly=function(t,e){var i=t.points;if(!(i.length<6)){var r=e.points,s=e.indices,n=i.length/2,h=o(t.fillColor),l=t.fillAlpha,u=h[0]*l,c=h[1]*l,f=h[2]*l,d=a(i),p=r.length/6,v=0;for(v=0;v<d.length;v+=3)s.push(d[v]+p),s.push(d[v]+p),s.push(d[v+1]+p),s.push(d[v+2]+p),s.push(d[v+2]+p);for(v=0;n>v;v++)r.push(i[2*v],i[2*v+1],u,c,f,l)}}},function(t,e,i){\"use strict\";function r(t,e,i,r,s,n,o,a){var h=o-i,l=a-r,u=s-i,c=n-r,f=t-i,d=e-r,p=h*h+l*l,v=h*u+l*c,m=h*f+l*d,g=u*u+c*c,x=u*f+c*d,b=1/(p*g-v*v),y=(g*m-v*x)*b,T=(p*x-v*m)*b;return y>=0&&T>=0&&1>y+T}function s(t,e,i,r,s,n,o){return(e-r)*(s-i)+(i-t)*(n-r)>=0===o}var n=i(2);e.triangulate=function(t){var e=!0,i=t.length>>1;if(3>i)return[];for(var o=[],a=[],h=0;i>h;h++)a.push(h);h=0;for(var l=i;l>3;){var u=a[(h+0)%l],c=a[(h+1)%l],f=a[(h+2)%l],d=t[2*u],p=t[2*u+1],v=t[2*c],m=t[2*c+1],g=t[2*f],x=t[2*f+1],b=!1;if(s(d,p,v,m,g,x,e)){b=!0;for(var y=0;l>y;y++){var T=a[y];if(T!==u&&T!==c&&T!==f&&r(t[2*T],t[2*T+1],d,p,v,m,g,x)){b=!1;break}}}if(b)o.push(u,c,f),a.splice((h+1)%l,1),l--,h=0;else if(h++>3*l){if(!e)return n.console.warn(\"PIXI Warning: shape too complex to fill\"),[];for(o=[],a=[],h=0;i>h;h++)a.push(h);h=0,l=i,e=!1}}return o.push(a[0],a[1],a[2]),o}},function(t,e,i){\"use strict\";var r=i(0),s=i(14),n=i(9),o=t.exports=Object.create(r);o.Point=i(3),o.Rectangle=i(8),o.Polygon=i(43),o.Circle=i(44),o.Ellipse=i(45),o.Matrix=n.Matrix,o.mat3=n.mat3,o.mat4=n.mat4,o.blendModes=i(11),o.DisplayObject=i(19),o.DisplayObjectContainer=i(6),o.Sprite=i(7),o.MovieClip=i(46),o.AbstractFilter=i(1),o.BlurFilter=i(47),o.BlurXFilter=i(29),o.BlurYFilter=i(30),o.ColorMatrixFilter=i(48),o.ColorStepFilter=i(49),o.CrossHatchFilter=i(50),o.DisplacementFilter=i(51),o.DotScreenFilter=i(52),o.FilterBlock=i(15),o.GrayFilter=i(53),o.InvertFilter=i(54),o.PixelateFilter=i(55),o.RGBSplitFilter=i(56),o.SepiaFilter=i(57),o.SmartBlurFilter=i(58),o.TwistFilter=i(59),o.Text=i(60),o.BitmapText=i(31),o.InteractionManager=i(32),o.Stage=i(61),o.EventTarget=i(5),o.autoDetectRenderer=i(62),o.PolyK=i(37),o.WebGLGraphics=i(36),o.WebGLRenderer=i(35),o.WebGLBatch=i(23),o.WebGLRenderGroup=i(24),o.CanvasRenderer=i(20),o.CanvasGraphics=i(34),o.Graphics=i(10),o.Strip=i(16),o.Rope=i(64),o.TilingSprite=i(21),o.Spine=i(25),o.CustomRenderable=i(22),o.BaseTexture=i(12),o.Texture=i(4),o.RenderTexture=i(65),o.AssetLoader=i(13),o.JsonLoader=i(27),o.SpriteSheetLoader=i(66),o.ImageLoader=i(17),o.BitmapFontLoader=i(67),o.SpineLoader=i(68),o.initDefaultShaders=s.initDefaultShaders,o.activatePrimitiveShader=s.activatePrimitiveShader,o.deactivatePrimitiveShader=s.deactivatePrimitiveShader,o.activateStripShader=s.activateStripShader,o.deactivateStripShader=s.deactivateStripShader;var a=i(69);o.runList=a.runList},function(t,e,i){\"use strict\";i.r(e);var r=i(38),s=i.n(r);consle.log(s.a),document.body.appendChild(function(){let t=document.createElement(\"div\");return t.innerHTML=_.join([\"Hello\",\"webpack\"],\" \"),t}())},function(t,e,i){\"use strict\";function r(){this.program=null,this.fragmentSrc=[\"precision mediump float;\",\"varying vec4 vColor;\",\"void main(void) {\",\"   gl_FragColor = vColor;\",\"}\"],this.vertexSrc=[\"attribute vec2 aVertexPosition;\",\"attribute vec4 aColor;\",\"uniform mat3 translationMatrix;\",\"uniform vec2 projectionVector;\",\"uniform vec2 offsetVector;\",\"uniform float alpha;\",\"varying vec4 vColor;\",\"void main(void) {\",\"   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);\",\"   v -= offsetVector.xyx;\",\"   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);\",\"   vColor = aColor  * alpha;\",\"}\"]}var s=i(18),n=i(0);r.prototype.init=function(){var t=n.gl,e=s.program(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,\"projectionVector\"),this.offsetVector=t.getUniformLocation(e,\"offsetVector\"),this.aVertexPosition=t.getAttribLocation(e,\"aVertexPosition\"),this.colorAttribute=t.getAttribLocation(e,\"aColor\"),this.translationMatrix=t.getUniformLocation(e,\"translationMatrix\"),this.alpha=t.getUniformLocation(e,\"alpha\"),this.program=e},t.exports=r},function(t,e){var i;i=function(){return this}();try{i=i||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i},function(t,e,i){\"use strict\";function r(){this.program=null,this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform float alpha;\",\"uniform sampler2D uSampler;\",\"void main(void) {\",\"   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y));\",\"   gl_FragColor = gl_FragColor * alpha;\",\"}\"],this.vertexSrc=[\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"attribute float aColor;\",\"uniform mat3 translationMatrix;\",\"uniform vec2 projectionVector;\",\"varying vec2 vTextureCoord;\",\"varying vec2 offsetVector;\",\"varying float vColor;\",\"void main(void) {\",\"   vec3 v = translationMatrix * vec3(aVertexPosition, 1.0);\",\"   v -= offsetVector.xyx;\",\"   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / projectionVector.y + 1.0 , 0.0, 1.0);\",\"   vTextureCoord = aTextureCoord;\",\"   vColor = aColor;\",\"}\"]}var s=i(18),n=i(0);r.prototype.init=function(){var t=n.gl,e=s.program(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,\"uSampler\"),this.projectionVector=t.getUniformLocation(e,\"projectionVector\"),this.offsetVector=t.getUniformLocation(e,\"offsetVector\"),this.colorAttribute=t.getAttribLocation(e,\"aColor\"),this.aVertexPosition=t.getAttribLocation(e,\"aVertexPosition\"),this.aTextureCoord=t.getAttribLocation(e,\"aTextureCoord\"),this.translationMatrix=t.getUniformLocation(e,\"translationMatrix\"),this.alpha=t.getUniformLocation(e,\"alpha\"),this.program=e},t.exports=r},function(t,e,i){\"use strict\";function r(t){if(t instanceof Array||(t=Array.prototype.slice.call(arguments)),\"number\"==typeof t[0]){for(var e=[],i=0,r=t.length;r>i;i+=2)e.push(new s(t[i],t[i+1]));t=e}this.points=t}var s=i(3),n=r.prototype;n.clone=function(){for(var t=[],e=0;e<this.points.length;e++)t.push(this.points[e].clone());return new r(t)},n.contains=function(t,e){for(var i=!1,r=0,s=this.points.length-1;r<this.points.length;s=r++){var n=this.points[r].x,o=this.points[r].y,a=this.points[s].x,h=this.points[s].y;o>e!=h>e&&(a-n)*(e-o)/(h-o)+n>t&&(i=!i)}return i},t.exports=r},function(t,e,i){\"use strict\";function r(t,e,i){this.x=t||0,this.y=e||0,this.radius=i||0}var s=r.prototype;s.clone=function(){return new r(this.x,this.y,this.radius)},s.contains=function(t,e){if(this.radius<=0)return!1;var i=this.x-t,r=this.y-e;return this.radius*this.radius>=(i*=i)+(r*=r)},t.exports=r},function(t,e,i){\"use strict\";function r(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0}var s=i(8),n=r.prototype;n.clone=function(){return new r(this.x,this.y,this.width,this.height)},n.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width-.5,r=(e-this.y)/this.height-.5;return.25>(i*=i)+(r*=r)},n.getBounds=function(){return new s(this.x,this.y,this.width,this.height)},t.exports=r},function(t,e,i){\"use strict\";function r(t){s.call(this,t[0]),this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.currentFrame=0,this.playing=!1}var s=i(7),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"totalFrames\",{get:function(){return this.textures.length}}),n.stop=function(){this.playing=!1},n.play=function(){this.playing=!0},n.gotoAndStop=function(t){this.playing=!1,this.currentFrame=t;var e=this.currentFrame+.5|0;this.setTexture(this.textures[e%this.textures.length])},n.gotoAndPlay=function(t){this.currentFrame=t,this.playing=!0},n.updateTransform=function(){if(s.prototype.updateTransform.call(this),this.playing){this.currentFrame+=this.animationSpeed;var t=this.currentFrame+.5|0;this.loop||t<this.textures.length?this.setTexture(this.textures[t%this.textures.length]):t>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())}},t.exports=r},function(t,e,i){\"use strict\";function r(){this.blurXFilter=new s,this.blurYFilter=new n,this.passes=[this.blurXFilter,this.blurYFilter]}var s=i(29),n=i(30),o=r.prototype;Object.defineProperty(o,\"blur\",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}}),Object.defineProperty(o,\"blurX\",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}}),Object.defineProperty(o,\"blurY\",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={matrix:{type:\"mat4\",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform float invert;\",\"uniform mat4 matrix;\",\"uniform sampler2D uSampler;\",\"void main(void) {\",\"   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;\",\"   gl_FragColor = gl_FragColor * vColor;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"matrix\",{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={step:{type:\"1f\",value:5}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform sampler2D uSampler;\",\"uniform float step;\",\"void main(void) {\",\"   vec4 color = texture2D(uSampler, vTextureCoord);\",\"   color = floor(color * step) / step;\",\"   gl_FragColor = color * vColor;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"step\",{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={blur:{type:\"1f\",value:1/512}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform float blur;\",\"uniform sampler2D uSampler;\",\"void main(void) {\",\"    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\",\"    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\",\"    if (lum < 1.00) {\",\"        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {\",\"            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\",\"        }\",\"    }\",\"    if (lum < 0.75) {\",\"        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {\",\"            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\",\"        }\",\"    }\",\"    if (lum < 0.50) {\",\"        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {\",\"            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\",\"        }\",\"    }\",\"    if (lum < 0.3) {\",\"        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {\",\"            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\",\"        }\",\"    }\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"blur\",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),t.exports=r},function(t,e,i){\"use strict\";function r(t){s.call(this),this.passes=[this],t.baseTexture._powerOf2=!0,this.uniforms={displacementMap:{type:\"sampler2D\",value:t},scale:{type:\"2f\",value:{x:30,y:30}},offset:{type:\"2f\",value:{x:0,y:0}},mapDimensions:{type:\"2f\",value:{x:1,y:5112}},dimensions:{type:\"4fv\",value:[0,0,0,0]}},t.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=t.width,this.uniforms.mapDimensions.value.y=t.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),t.baseTexture.on(\"loaded\",this.boundLoadedFunction)),this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform sampler2D displacementMap;\",\"uniform sampler2D uSampler;\",\"uniform vec2 scale;\",\"uniform vec2 offset;\",\"uniform vec4 dimensions;\",\"uniform vec2 mapDimensions;\",\"void main(void) {\",\"   vec2 mapCords = vTextureCoord.xy;\",\"   mapCords += (dimensions.zw + offset)/ dimensions.xy ;\",\"   mapCords.y *= -1.0;\",\"   mapCords.y += 1.0;\",\"   vec2 matSample = texture2D(displacementMap, mapCords).xy;\",\"   matSample -= 0.5;\",\"   matSample *= scale;\",\"   matSample /= mapDimensions;\",\"   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));\",\"   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);\",\"   vec2 cord = vTextureCoord;\",\"   gl_FragColor = gl_FragColor * vColor;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});n.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height,this.uniforms.displacementMap.value.baseTexture.off(\"loaded\",this.boundLoadedFunction)},Object.defineProperty(n,\"map\",{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}}),Object.defineProperty(n,\"scale\",{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}}),Object.defineProperty(n,\"offset\",{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={scale:{type:\"1f\",value:1},angle:{type:\"1f\",value:5},dimensions:{type:\"4fv\",value:[0,0,0,0]}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform vec4 dimensions;\",\"uniform sampler2D uSampler;\",\"uniform float angle;\",\"uniform float scale;\",\"float pattern() {\",\"   float s = sin(angle), c = cos(angle);\",\"   vec2 tex = vTextureCoord * dimensions.xy;\",\"   vec2 point = vec2(\",\"       c * tex.x - s * tex.y,\",\"       s * tex.x + c * tex.y\",\"   ) * scale;\",\"   return (sin(point.x) * sin(point.y)) * 4.0;\",\"}\",\"void main() {\",\"   vec4 color = texture2D(uSampler, vTextureCoord);\",\"   float average = (color.r + color.g + color.b) / 3.0;\",\"   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"scale\",{get:function(){return this.uniforms.scale.value},set:function(t){this.dirty=!0,this.uniforms.scale.value=t}}),Object.defineProperty(n,\"angle\",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={gray:{type:\"1f\",value:1}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform sampler2D uSampler;\",\"uniform float gray;\",\"void main(void) {\",\"   gl_FragColor = texture2D(uSampler, vTextureCoord);\",\"   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\",\"   gl_FragColor = gl_FragColor * vColor;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"gray\",{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={invert:{type:\"1f\",value:1}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform float invert;\",\"uniform sampler2D uSampler;\",\"void main(void) {\",\"   gl_FragColor = texture2D(uSampler, vTextureCoord);\",\"   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\",\"   gl_FragColor = gl_FragColor * vColor;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"invert\",{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={invert:{type:\"1f\",value:0},dimensions:{type:\"4fv\",value:new Float32Array([1e4,100,10,10])},pixelSize:{type:\"2f\",value:{x:10,y:10}}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform vec2 testDim;\",\"uniform vec4 dimensions;\",\"uniform vec2 pixelSize;\",\"uniform sampler2D uSampler;\",\"void main(void) {\",\"   vec2 coord = vTextureCoord;\",\"   vec2 size = dimensions.xy/pixelSize;\",\"   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\",\"   gl_FragColor = texture2D(uSampler, color);\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"size\",{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.dirty=!0,this.uniforms.pixelSize.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={red:{type:\"2f\",value:{x:20,y:20}},green:{type:\"2f\",value:{x:-20,y:20}},blue:{type:\"2f\",value:{x:20,y:-20}},dimensions:{type:\"4fv\",value:[0,0,0,0]}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform vec2 red;\",\"uniform vec2 green;\",\"uniform vec2 blue;\",\"uniform vec4 dimensions;\",\"uniform sampler2D uSampler;\",\"void main(void) {\",\"   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\",\"   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\",\"   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\",\"   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"angle\",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(t){this.uniforms.blur.value=1/7e3*t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={sepia:{type:\"1f\",value:1}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform float sepia;\",\"uniform sampler2D uSampler;\",\"const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\",\"void main(void) {\",\"   gl_FragColor = texture2D(uSampler, vTextureCoord);\",\"   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\",\"   gl_FragColor = gl_FragColor * vColor;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"sepia\",{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={blur:{type:\"1f\",value:1/512}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"uniform sampler2D uSampler;\",\"const vec2 delta = vec2(1.0/10.0, 0.0);\",\"float random(vec3 scale, float seed) {\",\"   return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\",\"}\",\"void main(void) {\",\"   vec4 color = vec4(0.0);\",\"   float total = 0.0;\",\"   float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\",\"   for (float t = -30.0; t <= 30.0; t++) {\",\"       float percent = (t + offset - 0.5) / 30.0;\",\"       float weight = 1.0 - abs(percent);\",\"       vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\",\"       sample.rgb *= sample.a;\",\"       color += sample * weight;\",\"       total += weight;\",\"   }\",\"   gl_FragColor = color / total;\",\"   gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"blur\",{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(){s.call(this),this.passes=[this],this.uniforms={radius:{type:\"1f\",value:.5},angle:{type:\"1f\",value:5},offset:{type:\"2f\",value:{x:.5,y:.5}}},this.fragmentSrc=[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float vColor;\",\"uniform vec4 dimensions;\",\"uniform sampler2D uSampler;\",\"uniform float radius;\",\"uniform float angle;\",\"uniform vec2 offset;\",\"void main(void) {\",\"   vec2 coord = vTextureCoord - offset;\",\"   float distance = length(coord);\",\"   if (distance < radius) {\",\"       float ratio = (radius - distance) / radius;\",\"       float angleMod = ratio * ratio * angle;\",\"       float s = sin(angleMod);\",\"       float c = cos(angleMod);\",\"       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\",\"   }\",\"   gl_FragColor = texture2D(uSampler, coord+offset);\",\"}\"]}var s=i(1),n=r.prototype=Object.create(s.prototype,{constructor:{value:r}});Object.defineProperty(n,\"offset\",{get:function(){return this.uniforms.offset.value},set:function(t){this.dirty=!0,this.uniforms.offset.value=t}}),Object.defineProperty(n,\"radius\",{get:function(){return this.uniforms.radius.value},set:function(t){this.dirty=!0,this.uniforms.radius.value=t}}),Object.defineProperty(n,\"angle\",{get:function(){return this.uniforms.angle.value},set:function(t){this.dirty=!0,this.uniforms.angle.value=t}}),t.exports=r},function(t,e,i){\"use strict\";function r(t,e){this.canvas=s.createCanvas(),this.context=this.canvas.getContext(\"2d\"),a.call(this,h.fromCanvas(this.canvas)),this.setText(t),this.setStyle(e),this.updateText(),this.dirty=!1}var s=i(2),n=i(0),o=i(3),a=i(7),h=i(4),l=r.prototype=Object.create(a.prototype,{constructor:{value:r}});l.setStyle=function(t){(t=t||{}).font=t.font||\"bold 20pt Arial\",t.fill=t.fill||\"black\",t.align=t.align||\"left\",t.stroke=t.stroke||\"black\",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,this.style=t,this.dirty=!0},l.setText=function(t){this.text=t.toString()||\" \",this.dirty=!0},l.updateText=function(){this.context.font=this.style.font;var t=this.text;this.style.wordWrap&&(t=this.wordWrap(this.text));for(var e=t.split(/(?:\\r\\n|\\r|\\n)/),i=[],r=0,s=0;s<e.length;s++){var n=this.context.measureText(e[s]).width;i[s]=n,r=Math.max(r,n)}this.canvas.width=r+this.style.strokeThickness;var a=this.determineFontHeight(\"font: \"+this.style.font+\";\")+this.style.strokeThickness;for(this.canvas.height=a*e.length,this.context.fillStyle=this.style.fill,this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline=\"top\",s=0;s<e.length;s++){var h=new o(this.style.strokeThickness/2,this.style.strokeThickness/2+s*a);\"right\"===this.style.align?h.x+=r-i[s]:\"center\"===this.style.align&&(h.x+=(r-i[s])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(e[s],h.x,h.y),this.style.fill&&this.context.fillText(e[s],h.x,h.y)}this.updateTexture()},l.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.frame.width=this.canvas.width,this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,n.texturesToUpdate.push(this.texture.baseTexture)},l.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),a.prototype.updateTransform.call(this)},l.determineFontHeight=function(t){var e=r.heightCache[t];if(!e){var i=s.document.getElementsByTagName(\"body\")[0],n=s.document.createElement(\"div\"),o=s.document.createTextNode(\"M\");n.appendChild(o),n.setAttribute(\"style\",t+\";position:absolute;top:0;left:0\"),i.appendChild(n),e=n.offsetHeight,r.heightCache[t]=e,i.removeChild(n)}return e},l.wordWrap=function(t){for(var e=\"\",i=t.split(\"\\n\"),r=0;r<i.length;r++){for(var s=this.style.wordWrapWidth,n=i[r].split(\" \"),o=0;o<n.length;o++){var a=this.context.measureText(n[o]).width,h=a+this.context.measureText(\" \").width;h>s?(o>0&&(e+=\"\\n\"),e+=n[o]+\" \",s=this.style.wordWrapWidth-a):(s-=h,e+=n[o]+\" \")}e+=\"\\n\"}return e},l.destroy=function(t){t&&this.texture.destroy()},r.heightCache={},t.exports=r},function(t,e,i){\"use strict\";function r(t){a.call(this),this.worldTransform=n.create(),this.interactive=!0,this.interactionManager=new h(this),this.dirty=!0,this.__childrenAdded=[],this.__childrenRemoved=[],this.stage=this,this.stage.hitArea=new l(0,0,1e5,1e5),this.setBackgroundColor(t),this.worldVisible=!0}var s=i(0),n=i(9).mat3,o=i(33).hex2rgb,a=i(6),h=i(32),l=i(8),u=r.prototype=Object.create(a.prototype,{constructor:{value:r}});u.setInteractionDelegate=function(t){this.interactionManager.setTargetDomElement(t)},u.updateTransform=function(){this.worldAlpha=1,this.vcount=s.visibleCount;for(var t=0,e=this.children.length;e>t;t++)this.children[t].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0),this.interactive&&this.interactionManager.update()},u.setBackgroundColor=function(t){this.backgroundColor=t||0,this.backgroundColorSplit=o(this.backgroundColor);var e=this.backgroundColor.toString(16);e=\"000000\".substr(0,6-e.length)+e,this.backgroundColorString=\"#\"+e},u.getMousePosition=function(){return this.interactionManager.mouse.global},t.exports=r},function(t,e,i){\"use strict\";var r=i(2),s=i(20),n=i(35);t.exports=function(t,e,i,o,a){t||(t=800),e||(e=600);var h=function(){try{var t=r.createCanvas();return!!r.window.WebGLRenderingContext&&(t.getContext(\"webgl\")||t.getContext(\"experimental-webgl\"))}catch(t){return!1}}();h&&r.navigator&&(h=!(-1!==r.navigator.userAgent.toLowerCase().indexOf(\"trident\")));return h?new n(t,e,i,o,a):new s(t,e,i,o)}},function(t,e,i){\"use strict\";function r(t,e){var i=n.gl;this.frameBuffer=i.createFramebuffer(),this.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer),i.bindFramebuffer(i.FRAMEBUFFER,this.frameBuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,this.texture,0),this.resize(t,e)}function s(t){this.transparent=t,this.filterStack=[],this.texturePool=[],this.offsetX=0,this.offsetY=0,this.initShaderBuffers()}var n=i(0),o=i(7),a=i(10),h=i(28);r.prototype.resize=function(t,e){if(this.width!==t||this.height!==e){this.width=t,this.height=e;var i=n.gl;i.bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null)}};var l=s.prototype;l.begin=function(t,e){this.width=2*t.x,this.height=2*-t.y,this.buffer=e},l.pushFilter=function(t){var e=n.gl;this.filterStack.push(t);var i=t.filterPasses[0];this.offsetX+=t.target.filterArea.x,this.offsetY+=t.target.filterArea.y;var s=this.texturePool.pop();s?s.resize(this.width,this.height):s=new r(this.width,this.height),e.bindTexture(e.TEXTURE_2D,s.texture),this.getBounds(t.target);var o=t.target.filterArea,a=i.padding;o.x-=a,o.y-=a,o.width+=2*a,o.height+=2*a,o.x<0&&(o.x=0),o.width>this.width&&(o.width=this.width),o.y<0&&(o.y=0),o.height>this.height&&(o.height=this.height),e.bindFramebuffer(e.FRAMEBUFFER,s.frameBuffer),e.viewport(0,0,o.width,o.height),n.projection.x=o.width/2,n.projection.y=-o.height/2,n.offset.x=-o.x,n.offset.y=-o.y,e.uniform2f(n.defaultShader.projectionVector,o.width/2,-o.height/2),e.uniform2f(n.defaultShader.offsetVector,-o.x,-o.y),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t._glFilterTexture=s},l.popFilter=function(){var t=n.gl,e=this.filterStack.pop(),i=e.target.filterArea,s=e._glFilterTexture;if(e.filterPasses.length>1){t.viewport(0,0,i.width,i.height),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=i.height,this.vertexArray[2]=i.width,this.vertexArray[3]=i.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=i.width,this.vertexArray[7]=0,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=i.width/this.width,this.uvArray[5]=i.height/this.height,this.uvArray[6]=i.width/this.width,this.uvArray[7]=i.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray);var o=s,a=this.texturePool.pop();a||(a=new r(this.width,this.height)),t.bindFramebuffer(t.FRAMEBUFFER,a.frameBuffer),t.clear(t.COLOR_BUFFER_BIT),t.disable(t.BLEND);for(var h=0;h<e.filterPasses.length-1;h++){var l=e.filterPasses[h];t.bindFramebuffer(t.FRAMEBUFFER,a.frameBuffer),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,o.texture),this.applyFilterPass(l,i,i.width,i.height);var u=o;o=a,a=u}t.enable(t.BLEND),s=o,this.texturePool.push(a)}var c=e.filterPasses[e.filterPasses.length-1];this.offsetX-=i.x,this.offsetY-=i.y;var f=this.width,d=this.height,p=0,v=0,m=this.buffer;if(0===this.filterStack.length)t.colorMask(!0,!0,!0,this.transparent);else{var g=this.filterStack[this.filterStack.length-1];f=(i=g.target.filterArea).width,d=i.height,p=i.x,v=i.y,m=g._glFilterTexture.frameBuffer}n.projection.x=f/2,n.projection.y=-d/2,n.offset.x=p,n.offset.y=v;var x=(i=e.target.filterArea).x-p,b=i.y-v;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=x,this.vertexArray[1]=b+i.height,this.vertexArray[2]=x+i.width,this.vertexArray[3]=b+i.height,this.vertexArray[4]=x,this.vertexArray[5]=b,this.vertexArray[6]=x+i.width,this.vertexArray[7]=b,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=i.width/this.width,this.uvArray[5]=i.height/this.height,this.uvArray[6]=i.width/this.width,this.uvArray[7]=i.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray),t.viewport(0,0,f,d),t.bindFramebuffer(t.FRAMEBUFFER,m),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,s.texture),this.applyFilterPass(c,i,f,d),t.useProgram(n.defaultShader.program),t.uniform2f(n.defaultShader.projectionVector,f/2,-d/2),t.uniform2f(n.defaultShader.offsetVector,-p,-v),this.texturePool.push(s),e._glFilterTexture=null},l.applyFilterPass=function(t,e,i,r){var s=n.gl,o=t.shader;o||((o=new h).fragmentSrc=t.fragmentSrc,o.uniforms=t.uniforms,o.init(),t.shader=o),s.useProgram(o.program),s.uniform2f(o.projectionVector,i/2,-r/2),s.uniform2f(o.offsetVector,0,0),t.uniforms.dimensions&&(t.uniforms.dimensions.value[0]=this.width,t.uniforms.dimensions.value[1]=this.height,t.uniforms.dimensions.value[2]=this.vertexArray[0],t.uniforms.dimensions.value[3]=this.vertexArray[5]),o.syncUniforms(),s.bindBuffer(s.ARRAY_BUFFER,this.vertexBuffer),s.vertexAttribPointer(o.aVertexPosition,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.uvBuffer),s.vertexAttribPointer(o.aTextureCoord,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indexBuffer),s.drawElements(s.TRIANGLES,6,s.UNSIGNED_SHORT,0)},l.initShaderBuffers=function(){var t=n.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.vertexArray=new Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW),this.uvArray=new Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),t.STATIC_DRAW)},l.getBounds=function(t){var e,i,r,s,n,h,l,u,c,f,d,p,v,m,g,x,b,y,T,_,A,w,E,C,S=t.first,R=t.last._iNext,F=-1/0,D=-1/0,L=1/0,P=1/0;do{if(S.visible)if(S instanceof o)i=S.texture.frame.width,r=S.texture.frame.height,h=i*(1-(s=S.anchor.x)),l=i*-s,u=r*(1-(n=S.anchor.y)),c=r*-n,f=!0;else if(S instanceof a){S.updateFilterBounds();var B=S.bounds;i=B.width,r=B.height,h=B.x,l=B.x+B.width,u=B.y,c=B.y+B.height,f=!0}f&&(d=(e=S.worldTransform)[0],p=e[3],v=e[1],m=e[4],g=e[2],A=m*c+p*l+(x=e[5]),y=d*h+v*c+g,w=m*c+p*h+x,T=d*h+v*u+g,E=m*u+p*h+x,_=d*l+v*u+g,C=m*u+p*l+x,L=(L=(L=(L=L>(b=d*l+v*c+g)?b:L)>y?y:L)>T?T:L)>_?_:L,P=(P=(P=(P=P>A?A:P)>w?w:P)>E?E:P)>C?C:P,F=_>(F=T>(F=y>(F=b>F?b:F)?y:F)?T:F)?_:F,D=C>(D=E>(D=w>(D=A>D?A:D)?w:D)?E:D)?C:D),f=!1,S=S._iNext}while(S!==R);t.filterArea.x=L,t.filterArea.y=P,t.filterArea.width=F-L,t.filterArea.height=D-P},t.exports=s},function(t,e,i){\"use strict\";function r(t,e){s.call(this,t),this.points=e;try{this.verticies=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length)}catch(t){this.verticies=new Array(4*e.length),this.uvs=new Array(4*e.length),this.colors=new Array(2*e.length),this.indices=new Array(2*e.length)}this.refresh()}var s=i(16),n=i(6),o=r.prototype=Object.create(s.prototype,{constructor:{value:r}});o.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,i=(t[0],this.indices),r=this.colors;this.count-=.2,e[0]=0,e[1]=1,e[2]=0,e[3]=1,r[0]=1,r[1]=1,i[0]=0,i[1]=1;for(var s,n,o,a=t.length,h=1;a>h;h++)s=t[h],o=h/(a-1),e[n=4*h]=o,e[n+1]=0,e[n+2]=o,e[n+3]=1,r[n=2*h]=1,r[n+1]=1,i[n=2*h]=n,i[n+1]=n+1,s}},o.updateTransform=function(){var t=this.points;if(!(t.length<1)){var e,i=t[0],r={x:0,y:0};this.count-=.2;var s=this.verticies;s[0]=i.x+r.x,s[1]=i.y+r.y,s[2]=i.x-r.x,s[3]=i.y-r.y;for(var o,a,h,l,u=t.length,c=1;u>c;c++)o=t[c],a=4*c,e=c<t.length-1?t[c+1]:o,r.y=-(e.x-i.x),r.x=e.y-i.y,10*(1-c/(u-1))>1&&1,h=Math.sqrt(r.x*r.x+r.y*r.y),l=this.texture.height/2,r.x/=h,r.y/=h,r.x*=l,r.y*=l,s[a]=o.x+r.x,s[a+1]=o.y+r.y,s[a+2]=o.x-r.x,s[a+3]=o.y-r.y,i=o;n.prototype.updateTransform.call(this)}},o.setTexture=function(t){this.texture=t,this.updateFrame=!0},t.exports=r},function(t,e,i){\"use strict\";function r(t,e){u.call(this),this.width=t||100,this.height=e||100,this.identityMatrix=n.create(),this.frame=new l(0,0,this.width,this.height),s.gl?this.initWebGL():this.initCanvas()}var s=i(0),n=i(9).mat3,o=i(4),a=i(12),h=i(3),l=i(8),u=i(5),c=i(20),f=i(24),d=r.prototype=Object.create(o.prototype,{constructor:{value:r}});d.initWebGL=function(){var t=s.gl;this.glFramebuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.glFramebuffer),this.glFramebuffer.width=this.width,this.glFramebuffer.height=this.height,this.baseTexture=new a,this.baseTexture.width=this.width,this.baseTexture.height=this.height,this.baseTexture._glTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.baseTexture._glTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.baseTexture.isRender=!0,t.bindFramebuffer(t.FRAMEBUFFER,this.glFramebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.baseTexture._glTexture,0),this.projection=new h(this.width/2,-this.height/2),this.render=this.renderWebGL},d.resize=function(t,e){if(this.width=t,this.height=e,s.gl){this.projection.x=this.width/2,this.projection.y=-this.height/2;var i=s.gl;i.bindTexture(i.TEXTURE_2D,this.baseTexture._glTexture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,this.width,this.height,0,i.RGBA,i.UNSIGNED_BYTE,null)}else this.frame.width=this.width,this.frame.height=this.height,this.renderer.resize(this.width,this.height)},d.initCanvas=function(){this.renderer=new c(this.width,this.height,null,0),this.baseTexture=new a(this.renderer.view),this.frame=new l(0,0,this.width,this.height),this.render=this.renderCanvas},d.renderWebGL=function(t,e,i){var r=s.gl;r.colorMask(!0,!0,!0,!0),r.viewport(0,0,this.width,this.height),r.bindFramebuffer(r.FRAMEBUFFER,this.glFramebuffer),i&&(r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT));var o=t.children,a=t.worldTransform;t.worldTransform=n.create(),t.worldTransform[4]=-1,t.worldTransform[5]=-2*this.projection.y,e&&(t.worldTransform[2]=e.x,t.worldTransform[5]-=e.y),s.visibleCount++,t.vcount=s.visibleCount;for(var h=0,l=o.length;l>h;h++)o[h].updateTransform();var u=t.__renderGroup;u?t===u.root?u.render(this.projection,this.glFramebuffer):u.renderSpecific(t,this.projection,this.glFramebuffer):(this.renderGroup||(this.renderGroup=new f(r)),this.renderGroup.setRenderable(t),this.renderGroup.render(this.projection,this.glFramebuffer)),t.worldTransform=a},d.renderCanvas=function(t,e,i){var r=t.children;t.worldTransform=n.create(),e&&(t.worldTransform[2]=e.x,t.worldTransform[5]=e.y);for(var s=0,o=r.length;o>s;s++)r[s].updateTransform();i&&this.renderer.context.clearRect(0,0,this.width,this.height),this.renderer.renderDisplayObject(t),this.renderer.context.setTransform(1,0,0,1,0,0)},t.exports=r},function(t,e,i){\"use strict\";function r(t,e){o.call(this),this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\\/]*$/,\"\"),this.texture=null,this.frames={}}var s=i(27),n=i(17),o=i(5),a=i(4),h=r.prototype;h.load=function(){var t=this,e=new s(this.url,this.crossorigin);e.addEventListener(\"loaded\",function(e){t.json=e.content.json,t.onJSONLoaded()}),e.load()},h.onJSONLoaded=function(){var t=this,e=this.baseUrl+this.json.meta.image,i=new n(e,this.crossorigin),r=this.json.frames;for(var s in this.texture=i.texture.baseTexture,i.addEventListener(\"loaded\",function(){t.onLoaded()}),r){var o=r[s].frame;o&&(a.cache[s]=new a(this.texture,{x:o.x,y:o.y,width:o.w,height:o.h}),r[s].trimmed&&(a.cache[s].realSize=r[s].spriteSourceSize,a.cache[s].trim.x=0))}i.load()},h.onLoaded=function(){this.dispatchEvent({type:\"loaded\",content:this})},t.exports=r},function(t,e,i){\"use strict\";function r(t,e){a.call(this),this.url=t,this.crossorigin=e,this.baseUrl=t.replace(/[^\\/]*$/,\"\"),this.texture=null}var s=i(13),n=i(17),o=i(8),a=i(5),h=i(31),l=i(4),u=i(2),c=r.prototype;c.handleEvent=function(t){switch(t.type){case\"load\":this.onXMLLoaded();break;default:this.onError()}},c.load=function(){this.request=u.createRequest(),this.request.addEventListener(\"load\",this),this.request.addEventListener(\"error\",this),this.request.open(\"GET\",this.url,!0),this.request.overrideMimeType&&this.request.overrideMimeType(\"application/xml\"),this.request.send(null)},c.onXMLLoaded=function(){var t=this.baseUrl+this.request.responseXML.getElementsByTagName(\"page\")[0].attributes.getNamedItem(\"file\").nodeValue,e=new n(t,this.crossorigin);this.texture=e.texture.baseTexture;var i={},r=this.request.responseXML.getElementsByTagName(\"info\")[0],s=this.request.responseXML.getElementsByTagName(\"common\")[0];i.font=r.attributes.getNamedItem(\"face\").nodeValue,i.size=parseInt(r.attributes.getNamedItem(\"size\").nodeValue,10),i.lineHeight=parseInt(s.attributes.getNamedItem(\"lineHeight\").nodeValue,10),i.chars={};for(var a=this.request.responseXML.getElementsByTagName(\"char\"),u=0;u<a.length;u++){var c=parseInt(a[u].attributes.getNamedItem(\"id\").nodeValue,10),f=new o(parseInt(a[u].attributes.getNamedItem(\"x\").nodeValue,10),parseInt(a[u].attributes.getNamedItem(\"y\").nodeValue,10),parseInt(a[u].attributes.getNamedItem(\"width\").nodeValue,10),parseInt(a[u].attributes.getNamedItem(\"height\").nodeValue,10));i.chars[c]={xOffset:parseInt(a[u].attributes.getNamedItem(\"xoffset\").nodeValue,10),yOffset:parseInt(a[u].attributes.getNamedItem(\"yoffset\").nodeValue,10),xAdvance:parseInt(a[u].attributes.getNamedItem(\"xadvance\").nodeValue,10),kerning:{},texture:l.cache[c]=new l(this.texture,f)}}var d=this.request.responseXML.getElementsByTagName(\"kerning\");for(u=0;u<d.length;u++){var p=parseInt(d[u].attributes.getNamedItem(\"first\").nodeValue,10),v=parseInt(d[u].attributes.getNamedItem(\"second\").nodeValue,10),m=parseInt(d[u].attributes.getNamedItem(\"amount\").nodeValue,10);i.chars[v].kerning[p]=m}h.fonts[i.font]=i;var g=this;e.addEventListener(\"loaded\",function(){g.onLoaded()}),e.load()},c.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:\"loaded\",content:this})},c.onError=function(){this.dispatchEvent({type:\"error\",content:this})},s.registerLoaderType(\"xml\",r),s.registerLoaderType(\"fnt\",r),t.exports=r},function(t,e,i){\"use strict\";function r(t,e){o.call(this),this.url=t,this.crossorigin=e,this.loaded=!1}var s=i(13),n=i(27),o=i(5),a=i(25),h=i(26).SkeletonJson,l=r.prototype;l.load=function(){var t=this,e=new n(this.url,this.crossorigin);e.addEventListener(\"loaded\",function(e){t.json=e.content.json,t.onJSONLoaded()}),e.load()},l.onJSONLoaded=function(){var t=(new h).readSkeletonData(this.json);a.animCache[this.url]=t,this.onLoaded()},l.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:\"loaded\",content:this})},s.registerLoaderType(\"anim\",r),t.exports=r},function(t,e,i){\"use strict\";var r=i(2);e.runList=function(t,e){var i=0,s=t.first;for(function(t){var e=r.console;e.groupCollapsed?e.groupCollapsed(t):e.group?e.group(t):e.log(t+\" >>>>>>>>>\")}(e=\"pixi.runList\"+(e?\"(\"+e+\")\":\"\")),r.console.log(s);s._iNext;)if(i++,s=s._iNext,r.console.log(s),i>100){r.console.log(\"BREAK\");break}!function(t){var e=r.console;e.groupEnd?e.groupEnd(t):e.log(t+\" _________\")}(e)}}]);","extractedComments":[]}